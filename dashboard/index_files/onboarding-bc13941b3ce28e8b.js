(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2276],{8778:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/onboarding",function(){return t(70276)}])},26179:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(85893);function a(e){var n=e.errors,t=e.popError;return 0===n.length?null:(0,r.jsxs)("button",{onClick:t,className:"fixed px-6 py-3 text-base text-white bg-red-600 rounded-md cursor-pointer right-4 bottom-4 animate-bounce",children:["Errors [",n.length,"]: ",n[n.length-1].message]})}},96074:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(828),a=t(29815),s=t(85893),i=t(25675),d=t.n(i),o=t(90576),l=t(94184),c=t.n(l),u=t(67294);function m(e){var n=e.trustedApps,t=e.chainId,i=e.addApp,l=e.removeApp,m=e.addCategory,h=e.removeCategory,p=e.isReadOnly,f=e.sortSelectedToTop,x=e.isUpdating,g=e.autoSelect,v=(0,u.useMemo)(function(){var e=(0,o.ML)(t);return Object.entries(e).forEach(function(t){var s=(0,r.Z)(t,2),i=s[0],d=s[1],o=(0,a.Z)(d);o.sort(function(e,t){var r=n.find(function(n){return n===e.name}),a=n.find(function(e){return e===t.name});return f&&!r&&a?1:f&&r&&!a?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0}),e[i]=o}),e},[t,f,n]),b=(0,u.useState)(new Set),y=b[0],w=b[1],$=(0,u.useState)(v),j=$[0],I=$[1];return(0,u.useEffect)(function(){x||(y.clear(),I(v))},[x]),(0,u.useEffect)(function(){g&&m("Utils")},[]),(0,s.jsx)("div",{className:"flex items-start gap-8 px-4 overflow-auto rounded-md",children:[Object.entries(x?j:v).map(function(e){var t=(0,r.Z)(e,2),a=t[0],o=t[1],u=o.map(function(e){return e.name}).every(function(e){return n.includes(e)});return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"mb-2 text-2xl font-display",children:a}),!p&&(u?(0,s.jsx)("button",{onClick:function(){return h(a)},className:"hover:underline",children:"deselect all"}):(0,s.jsx)("button",{onClick:function(){return m(a)},className:"hover:underline",children:"select all"})),(0,s.jsx)("div",{className:"flex flex-col items-start gap-2 font-display",children:o.map(function(e){var t=n.find(function(n){return n===e.name});return(0,s.jsxs)("button",{className:c()("flex rounded-sm items-center justify-start w-64 gap-2 p-2 border-[1px] border-gray-900",!t&&"hover:bg-orange-100 hover:text-black",t&&"bg-harpie hover:bg-harpie-200 text-white",t&&!p&&"active:bg-harpie-600",p?"cursor-not-allowed":"hover:text-white active:bg-harpie cursor-pointer"),onClick:function(){!p&&(t?(l(e.name),y.delete(e.name),w(y)):(i(e.name),w(y.add(e.name))))},children:[(0,s.jsx)("div",{className:"relative w-6 h-6 ",children:(0,s.jsx)(d(),{src:e.avatar,alt:e.name,layout:"fill",objectFit:"cover",className:"rounded-full"})}),(0,s.jsx)("p",{className:"grow text-start",children:e.name})]},a+e.name)})})]},a)}),]})}},12567:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(85893),a=t(62782),s=t(41306);function i(e){var n=e.title,t=void 0===n?"":n,i=e.description,d=void 0===i?"":i,o=e.confirmable,l=e.confirmButtonText,c=e.cancelable,u=e.cancelButtonText,m=e.children,h=e.onConfirm,p=void 0===h?function(){return console.log("confirmed")}:h,f=e.wide,x=e.open,g=e.setOpen;return(0,r.jsx)(s.Z,{open:x,children:(0,r.jsx)("div",{className:(f?"max-w-[50rem]":"max-w-2xl")+" inline-block px-4 pt-5 pb-4 overflow-hidden text-left text-gray-900 align-bottom transition-all bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:w-full sm:p-8",children:(0,r.jsxs)("div",{className:"flex flex-col gap-8 mt-3 sm:mt-5",children:[t&&(0,r.jsx)("h3",{className:"max-w-3xl text-2xl font-bold leading-6 text-center text-gray-900 font-display",children:t}),d&&(0,r.jsx)("div",{children:d}),void 0===m?null:m,(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-40",children:[(void 0===c||c)&&(0,r.jsx)(a.Z,{secondary:!0,onClick:function(){return g(!1)},type:"button",children:void 0===u?"Cancel":u}),(void 0===o||o)&&(0,r.jsx)(a.Z,{onClick:function(){p(),g(!1)},type:"button",children:void 0===l?"Confirm":l})]})]})})})}},41306:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(85893),a=t(67294),s=t(8390),i=t(94184),d=t.n(i);function o(e){var n=e.open,t=e.children,i=e.className;return(0,r.jsx)(s.u.Root,{show:n,as:a.Fragment,children:(0,r.jsxs)("div",{className:d()("fixed z-50",i),children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,r.jsx)(s.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:t})})]})})}},92575:function(e,n,t){"use strict";t.d(n,{AV:function(){return C},B3:function(){return P},Eh:function(){return Z},GA:function(){return F},Hq:function(){return A},I4:function(){return T},Im:function(){return E},O8:function(){return R},R_:function(){return L},Rd:function(){return _},UB:function(){return S},Xq:function(){return Y},ci:function(){return H},gE:function(){return B},hP:function(){return W},l0:function(){return N},o7:function(){return O},tZ:function(){return U},vP:function(){return M},x1:function(){return D}});var r=t(7297),a=t(22865);function s(){var e=(0,r.Z)(["\n  mutation CreateDashboard(\n    $id: String!\n    $chainId: Int!\n    $jwt: SignedJwtInput!\n    $email: String\n    $gasLimit: Float\n    $trustedApps: [String]\n    $trustedAddresses: [CustomAddressInput]\n    $tokens: [TokenInput]\n    $affiliate: String\n  ) {\n    createDashboard(\n      id: $id\n      chainId: $chainId\n      jwt: $jwt\n      email: $email\n      gasLimit: $gasLimit\n      trustedApps: $trustedApps\n      trustedAddresses: $trustedAddresses\n      tokens: $tokens\n      affiliate: $affiliate\n    ) {\n      id\n    }\n  }\n"]);return s=function(){return e},e}function i(){var e=(0,r.Z)(["\n  mutation CreateDashboardOnFail(\n    $id: String!\n    $chainId: Int!\n    $jwt: SignedJwtInput!\n    $email: String\n    $gasLimit: Float\n    $trustedApps: [String]\n    $trustedAddresses: [CustomAddressInput]\n    $affiliate: String\n  ) {\n    createDashboardOnFail(\n      id: $id\n      chainId: $chainId\n      jwt: $jwt\n      email: $email\n      gasLimit: $gasLimit\n      trustedApps: $trustedApps\n      trustedAddresses: $trustedAddresses\n      affiliate: $affiliate\n    ) {\n      id\n    }\n  }\n"]);return i=function(){return e},e}function d(){var e=(0,r.Z)(["\n  mutation UpdateEmail(\n    $dashboardId: String!\n    $chainId: Int!\n    $oldEmail: String!\n    $newEmail: String!\n    $signedToken: SignedTokenInput!\n  ) {\n    updateEmail(\n      dashboardId: $dashboardId\n      chainId: $chainId\n      oldEmail: $oldEmail\n      newEmail: $newEmail\n      signedToken: $signedToken\n    )\n  }\n"]);return d=function(){return e},e}function o(){var e=(0,r.Z)(["\n  mutation UpdateGasLimit($dashboardId: String!, $chainId: Int!, $gasLimit: Float!) {\n    updateGasLimit(dashboardId: $dashboardId, chainId: $chainId, gasLimit: $gasLimit) {\n      gasLimit\n      status\n      updatedAt\n    }\n  }\n"]);return o=function(){return e},e}function l(){var e=(0,r.Z)(["\n  mutation UpdateSettings($dashboardId: String!, $chainId: Int!, $settings: SettingsInput!) {\n    updateSettings(dashboardId: $dashboardId, chainId: $chainId, settings: $settings) {\n      id\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=(0,r.Z)(["\n  mutation setTrustedNetwork(\n    $dashboardId: String!\n    $chainId: Int!\n    $jwt: SignedJwtInput!\n    $trustedApps: [String]\n    $trustedAddresses: [CustomAddressInput]\n  ) {\n    setTrustedNetwork(\n      dashboardId: $dashboardId\n      chainId: $chainId\n      jwt: $jwt\n      trustedApps: $trustedApps\n      trustedAddresses: $trustedAddresses\n    ) {\n      added {\n        isApp\n        name\n        customAddressInfo {\n          address\n          name\n          isAppAddress\n        }\n      }\n      removed {\n        isApp\n        name\n        customAddressInfo {\n          address\n          name\n          isAppAddress\n        }\n      }\n    }\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,r.Z)(["\n  mutation UpsertToken(\n    $address: String!\n    $chainId: Int!\n    $dashboardId: String!\n    $isApproved: Boolean\n    $ids: [String]\n    $balance: String\n    $vaultBalance: String\n    $vaultIds: [String]\n  ) {\n    upsertToken(\n      address: $address\n      chainId: $chainId\n      dashboardId: $dashboardId\n      isApproved: $isApproved\n      ids: $ids\n      balance: $balance\n      vaultBalance: $vaultBalance\n      vaultIds: $vaultIds\n    ) {\n      address\n      isApproved\n      balance\n      ids\n      vaultBalance\n      vaultIds\n    }\n  }\n"]);return u=function(){return e},e}function m(){var e=(0,r.Z)(["\n  mutation UpdateTokens($dashboardId: String!, $chainId: Int!, $tokens: [TokenInput]) {\n    updateTokens(dashboardId: $dashboardId, chainId: $chainId, tokens: $tokens) {\n      address\n      isApproved\n      balance\n      ids\n      vaultBalance\n      vaultIds\n    }\n  }\n"]);return m=function(){return e},e}function h(){var e=(0,r.Z)(["\n  mutation RemoveTokenFromDashboard($address: String!, $dashboardId: String!, $chainId: Int!) {\n    removeTokenFromDashboard(address: $address, dashboardId: $dashboardId, chainId: $chainId) {\n      address\n    }\n  }\n"]);return h=function(){return e},e}function p(){var e=(0,r.Z)(["\n  mutation CreateTransaction(\n    $dashboardId: String!\n    $chainId: Int!\n    $type: TransactionType!\n    $status: TransactionStatus\n    $payload: String\n  ) {\n    createTransaction(\n      dashboardId: $dashboardId\n      chainId: $chainId\n      type: $type\n      status: $status\n      payload: $payload\n    ) {\n      id\n      type\n      status\n      createdAt\n      updatedAt\n      payload\n      dashboard {\n        id\n        chainId\n      }\n    }\n  }\n"]);return p=function(){return e},e}function f(){var e=(0,r.Z)(["\n  mutation UpdateTransaction($id: ID!, $status: TransactionStatus, $payload: String) {\n    updateTransaction(id: $id, status: $status, payload: $payload) {\n      id\n      type\n      status\n      createdAt\n      updatedAt\n      payload\n      dashboard {\n        id\n        chainId\n      }\n    }\n  }\n"]);return f=function(){return e},e}function x(){var e=(0,r.Z)(["\n  mutation UpsertTokenMetadata(\n    $address: String!\n    $chainId: Int!\n    $name: String!\n    $symbol: String!\n    $erc20Value: Float\n    $erc721Values: String\n    $type: TokenType!\n    $avatar: String\n    $decimals: Int\n  ) {\n    upsertTokenMetadata(\n      address: $address\n      chainId: $chainId\n      name: $name\n      symbol: $symbol\n      erc20Value: $erc20Value\n      erc721Values: $erc721Values\n      type: $type\n      avatar: $avatar\n      decimals: $decimals\n    ) {\n      address\n    }\n  }\n"]);return x=function(){return e},e}function g(){var e=(0,r.Z)(["\n  mutation SendUpdateEmailEmail(\n    $dashboardId: String!\n    $chainId: Int!\n    $dateTime: String!\n    $oldEmail: String!\n    $newEmail: String!\n  ) {\n    sendUpdateEmailEmail(\n      dashboardId: $dashboardId\n      chainId: $chainId\n      dateTime: $dateTime\n      oldEmail: $oldEmail\n      newEmail: $newEmail\n    )\n  }\n"]);return g=function(){return e},e}function v(){var e=(0,r.Z)(["\n  mutation SendTokenProtectionEmail(\n    $dashboardId: String!\n    $chainId: Int!\n    $dateTime: String!\n    $tokenName: String!\n    $tokenAddress: String!\n  ) {\n    sendTokenProtectionEmail(\n      dashboardId: $dashboardId\n      chainId: $chainId\n      dateTime: $dateTime\n      tokenName: $tokenName\n      tokenAddress: $tokenAddress\n    )\n  }\n"]);return v=function(){return e},e}function b(){var e=(0,r.Z)(["\n  mutation SendSetTrustedNetworkEmail(\n    $dashboardId: String!\n    $chainId: Int!\n    $dateTime: String!\n    $added: [String]\n    $removed: [String]\n  ) {\n    sendSetTrustedNetworkEmail(\n      dashboardId: $dashboardId\n      chainId: $chainId\n      dateTime: $dateTime\n      added: $added\n      removed: $removed\n    )\n  }\n"]);return b=function(){return e},e}function y(){var e=(0,r.Z)(["\n  mutation SendTokenWithdrawalEmail(\n    $dashboardId: String!\n    $chainId: Int!\n    $dateTime: String!\n    $tokenName: String!\n    $tokenAddress: String!\n    $quantity: String\n    $tokenId: String\n    $withdrawalFee: String!\n    $withdrawalAddress: String!\n  ) {\n    sendTokenWithdrawalEmail(\n      dashboardId: $dashboardId\n      chainId: $chainId\n      dateTime: $dateTime\n      tokenName: $tokenName\n      tokenAddress: $tokenAddress\n      quantity: $quantity\n      tokenId: $tokenId\n      withdrawalFee: $withdrawalFee\n      withdrawalAddress: $withdrawalAddress\n    )\n  }\n"]);return y=function(){return e},e}function w(){var e=(0,r.Z)(["\n  mutation SendChangeWithdrawalAddressEmail(\n    $dashboardId: String!\n    $chainId: Int!\n    $dateTime: String!\n    $oldAddress: String!\n    $newAddress: String!\n  ) {\n    sendChangeWithdrawalAddressEmail(\n      dashboardId: $dashboardId\n      chainId: $chainId\n      dateTime: $dateTime\n      oldAddress: $oldAddress\n      newAddress: $newAddress\n    )\n  }\n"]);return w=function(){return e},e}function $(){var e=(0,r.Z)(["\n  mutation UnsubscribeFromEmails($jwt: String!, $emailSettings: EmailSettingsInput!) {\n    unsubscribeFromEmails(jwt: $jwt, emailSettings: $emailSettings)\n  }\n"]);return $=function(){return e},e}function j(){var e=(0,r.Z)(["\n  mutation SubmitUserFeedback($dashboardId: String!, $chainId: Int!, $responses: String!) {\n    submitUserFeedback(dashboardId: $dashboardId, chainId: $chainId, responses: $responses) {\n      responses\n      createdAt\n    }\n  }\n"]);return j=function(){return e},e}function I(){var e=(0,r.Z)(["\n  mutation CreateRPCuser($email: String!, $address: String!, $chainId: Int!) {\n    createRPCuser(email: $email, address: $address, chainId: $chainId) {\n      email\n      address\n    }\n  }\n"]);return I=function(){return e},e}function k(){var e=(0,r.Z)(["\n  mutation UpdateRPCMode($email: String!, $address: String!, $chainId: Int!, $mode: RPC_MODE!) {\n    updateRPCMode(email: $email, address: $address, chainId: $chainId, mode: $mode) {\n      email\n      address\n      mode\n    }\n  }\n"]);return k=function(){return e},e}var N=(0,a.Ps)(s()),S=(0,a.Ps)(i()),A=(0,a.Ps)(d());(0,a.Ps)(o());var T=(0,a.Ps)(l()),C=(0,a.Ps)(c()),E=(0,a.Ps)(u()),Z=(0,a.Ps)(m()),P=(0,a.Ps)(h()),F=(0,a.Ps)(p()),_=(0,a.Ps)(f()),L=(0,a.Ps)(x()),R=(0,a.Ps)(g()),B=(0,a.Ps)(v()),D=(0,a.Ps)(b()),W=(0,a.Ps)(y()),U=(0,a.Ps)(w()),O=(0,a.Ps)($()),M=(0,a.Ps)(j()),Y=(0,a.Ps)(I()),H=(0,a.Ps)(k())},70208:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(67294);function a(){var e=(0,r.useState)([]),n=e[0],t=e[1],a=(0,r.useCallback)(function(e){return t(n.concat(e))},[n]),s=(0,r.useCallback)(function(){return t(n.slice(0,-1))},[n]),i=(0,r.useCallback)(function(){return t([])},[]);return{errors:n,pushError:a,popError:s,clearErrors:i}}},77505:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(67294);function a(){var e=(0,r.useState)(0),n=e[0],t=e[1],a=(0,r.useState)(0),s=a[0],i=a[1],d=(0,r.useState)(!0),o=d[0],l=d[1],c=(0,r.useState)(!0),u=c[0],m=c[1],h=(0,r.useState)(!1),p=h[0],f=h[1],x=(0,r.useRef)(),g=function(){o&&(i(0),t(n-1),x.current.scrollTo(0,0))},v=function(){u&&(i(0),t(n+1),x.current.scrollTo(0,0))},b=function(){return i(s+1)};return{slide:n,slideStep:s,prevSlide:g,nextSlide:v,nextSlideStep:b,skipToSlide:function(e){i(0),t(e),x.current.scrollTo(0,0)},slideRef:x,canBack:o,setCanBack:l,canContinue:u,setCanContinue:m,isContinueLoading:p,setIsContinueLoading:f}}},85582:function(e,n,t){"use strict";t.d(n,{f:function(){return d}});var r,a=t(47568),s=t(70655),i=t(99214),d=(r=(0,a.Z)(function(e,n,t,r,a,d){var o,l,c,u;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return c={message:n,trustedApps:t,trustedAddresses:r,signedAt:o=e.iat,verificationString:e.signature},[4,d._signTypedData((0,i.ge)(a),i.l_,c)];case 1:return[2,s.sent()]}})}),function(e,n,t,a,s,i){return r.apply(this,arguments)})},70276:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return er},default:function(){return ea}});var r=t(47568),a=t(828),s=t(70655),i=t(85893),d=t(9008),o=t.n(d),l=t(53154),c=t(29815),u=t(11163),m=t(67294),h=t(77505),p=t(95529);let f=m.forwardRef(function(e,n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},e),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"}))});var x=t(37887),g=t(30245),v=t(31607),b=t(62782),y=t(52416),w=t(71688),$=t(41664),j=t.n($),I=t(14045),k=t(25675),N=t.n(k),S=t(19485);function A(e){var n=e.setDashboardId,t=e.setChainId,r=e.setCanContinue,s=(0,a.Z)((0,p.Or)(),1)[0].connecting,d=(0,y.Z)(),o=d.wallet,l=d.address,c=d.chain,u=d.connectWallet,h=d.setChain,$=d.loading,k=(0,x.a)(g.KK,{variables:{dashboardId:l,chainId:null==c?void 0:c.id},skip:$&&!l&&!c}),A=k.data,T=k.loading;return((0,m.useEffect)(function(){r(!s&&o&&l&&null!=c&&!T&&(null==A?void 0:A.dashboard)==null)},[l,c,s,T,null==A?void 0:A.dashboard,r,o]),(0,m.useEffect)(function(){l&&c&&(n(S.getAddress(l)),t(c.id))},[l,c,t,n]),T)?(0,i.jsx)("div",{className:"flex items-center justify-center",children:(0,i.jsx)(v.Z,{type:"ThreeDots",color:"lightblue"})}):(null==A?void 0:A.dashboard)!=null?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold font-display",children:"Dashboard already exists!"}),(0,i.jsxs)("div",{className:"space-y-2 text-md",children:[(0,i.jsxs)("p",{children:["There already exists a dashboard created on ",c.name," with Ethereum address:"," ",(0,i.jsx)("span",{className:"font-display",children:l}),"."]}),(0,i.jsx)("p",{children:"Please switch the connected wallet or view your dashboard by clicking the button below."})]}),(0,i.jsx)(b.Z,{className:"self-start",children:(0,i.jsx)(j(),{href:"/app/dashboard/".concat(l,"/?chainId=").concat(c.id),children:(0,i.jsxs)("a",{children:["Go to dashboard ",(0,i.jsx)(f,{className:"inline w-6 h-6"})]})})})]}):(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold font-display",children:"Connect a Wallet"}),(0,i.jsxs)("div",{className:"space-y-2 text-md",children:[(0,i.jsx)("p",{children:"Harpie is the first on-chain firewall protecting your wallet from hacks, scams, and theft."}),(0,i.jsxs)("p",{children:["In the next steps, you will create a ",(0,i.jsx)("strong",{children:"trusted network"}),". A trusted network is a list of apps & people you trust. If you send assets outside of your trusted network, our systems stop that transfer from executing."]})]}),o?c?(0,i.jsxs)("div",{className:"flex flex-row py-1.5 px-2.5 bg-gray-100 rounded-md w-max",children:[(0,i.jsxs)("div",{className:"relative mt-1.5 mr-1.5",children:[(0,i.jsx)("div",{className:"items-center justify-center w-3 h-3 bg-green-500 rounded-full opacity-10 animate-pulse -z-10"}),(0,i.jsx)("div",{className:"absolute inset-0.5 bg-green-500 w-2 h-2 rounded-full"})]}),(0,i.jsxs)("p",{className:"inline font-medium font-display text-md",children:["Connected with ",(0,I.W)(l)," on"," ",(0,i.jsx)("span",{className:"font-semibold",children:c.name})]})]}):(0,i.jsxs)("div",{className:"flex flex-col items-start space-y-4",children:[(0,i.jsx)("p",{className:"font-bold text-md",children:"We've detected that you are connected to an unsupported chain. Please switch chains to proceed:"}),w.p5.map(function(e){return(0,i.jsx)("button",{className:"flex items-center justify-between w-full gap-2 p-2 border-2 border-gray-200 cursor-pointer active:border-harpie-600 hover:border-harpie",onClick:function(){return h(e.id)},children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"relative w-6 h-6",children:(0,i.jsx)(N(),{src:e.avatar,alt:e.name+" avatar icon",layout:"fill",objectFit:"cover",className:"rounded-full"})}),e.name]})},e.id)})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"font-bold text-md",children:"Connect your wallet to get started."}),(0,i.jsx)(b.Z,{onClick:u,className:"self-start",children:s?"Connecting":"Connect"})]})]})}var T=t(90576),C=t(63750),E=t(11415);function Z(e){var n=e.trustedApps,t=e.trustedAddresses,r=e.dashboardId,a=e.chainId,s=e.setCanContinue,d=(0,y.Z)(),o=d.address,l=d.chain,c=(0,m.useState)(null),u=c[0],h=c[1];return(0,m.useEffect)(function(){r!==o?h(Error("Please connect to ".concat(r))):(null==l?void 0:l.id)!==a?h(Error("Please switch back to ".concat((0,w.zK)(a).name))):h(null)},[o,null==l?void 0:l.id,a,r]),(0,m.useEffect)(function(){s(null==u)},[u,s]),(0,i.jsxs)("div",{className:"flex flex-col h-full space-y-4",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold font-display",children:"Review Your Account"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("p",{className:"text-md",children:"You're almost done! Once you create your dashboard you will be able to start protecting your tokens and NFTs. Harpie accounts are tied to just one wallet but there is no limit to how many accounts you can create."}),(0,i.jsx)("p",{className:"font-semibold",children:"You will always be able to modify your Trusted Network from your dashboard. Please verify that all of the information below is correct."})]}),(0,i.jsx)("div",{className:"space-y-2",children:(0,i.jsxs)("p",{className:"px-3 mt-4 py-2 overflow-auto border-[1px] border-gray-300 rounded-lg",children:[(0,i.jsx)("h3",{className:"font-bold font-display",children:"Harpie Account:"}),(0,i.jsx)("span",{className:"font-bold font-display",children:r})]})}),(0,i.jsx)("div",{className:"flex flex-col gap-2 grow",children:(0,i.jsxs)("div",{className:"grid h-48 grid-cols-2 px-3 py-2 overflow-y-auto border-[1px] border-gray-300 rounded-lg auto-rows-min grow",children:[(0,i.jsx)("h4",{className:"col-span-2 font-bold font-display",children:"Friends"}),t.map(function(e){return(0,i.jsxs)("div",{className:"contents",children:[(0,i.jsx)("p",{className:"col-span-1 ml-2",children:(0,I.W)(e.name,36)}),(0,i.jsx)("div",{className:"flex col-span-1 ml-2 underline hover:text-gray-600",children:(0,i.jsx)(E.Z,{position:"rc",gap:2,tooltip:(0,i.jsx)("p",{className:"px-2 py-1 text-xs text-white min-w-max bg-black/80",children:"view on etherscan"}),children:(0,i.jsx)(j(),{href:"".concat(null==l?void 0:l.etherscanUrl,"/address/").concat(e.address),children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",className:"font-display",children:(0,I.W)(e.address,36)})})})})]},e.name+e.address)}),(0,i.jsx)("h4",{className:"col-span-2 font-bold font-display",children:"Apps"}),n.sort().map(function(e){var n;return(0,i.jsxs)("div",{className:"contents",children:[(0,i.jsx)("p",{className:"col-span-1 ml-2",children:(0,I.W)(e,36)}),((n=(0,T.Z6)(e,a))&&0!==n.addresses.length||h(Error("Error retrieving apps from database. Please refresh your session.")),1===n.addresses.length)?(0,i.jsx)("p",{className:"flex items-center col-span-1 ml-2 font-display",children:(0,I.W)(n.addresses[0].address,36)}):(0,i.jsx)(P,{appInfo:n,chain:l})]},e)})]})}),u&&(0,i.jsx)("p",{className:"text-red-600",children:u.message})]})}function P(e){var n=e.appInfo;e.chain;var t=(0,m.useState)(!1),r=t[0],a=t[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex items-center col-span-1 gap-2 ml-2 cursor-pointer",onClick:function(){r?a(!1):a(!0)},children:[n.addresses.length," contracts"," ",r?(0,i.jsx)(C.E0f,{}):(0,i.jsx)(C.IAR,{})]}),r&&n.addresses.slice(0,5).map(function(e,t){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"col-span-1 ml-4",children:e.name}),(0,i.jsx)("div",{className:"flex items-center col-span-1 ml-4 font-display",children:(0,I.W)(n.addresses[t].address,36)})]})}),r&&n.addresses.length>5&&(0,i.jsx)("p",{className:"col-span-1 col-start-2 ml-4",children:"+ ".concat(n.addresses.length-5," more...")})]})}var F=t(18702),_=t(96074);function L(e){var n=e.trustedApps,t=e.chainId,r=e.addCategory,a=e.removeCategory,s=e.addApp,d=e.removeApp;return(0,i.jsxs)("div",{className:"flex flex-col justify-between h-full gap-4",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold font-display",children:"Add Apps to Your Trusted Network"}),(0,i.jsxs)("div",{className:"space-y-2 text-md",children:[(0,i.jsxs)("p",{children:["We've generated a prefilled trusted network based on your responses from the last screen! Please click to add or remove apps from your trusted network. ",(0,i.jsx)("span",{className:"font-semibold",children:"You can edit your trusted network at any time—even after onboarding."})]}),(0,i.jsxs)("ul",{className:"p-2 pl-4 space-y-1 text-sm text-orange-700 list-disc list-inside bg-orange-100 border-l-2 border-orange-500",role:"alert",children:[(0,i.jsxs)("li",{children:["We recommend you ",(0,i.jsx)("strong",{children:"select all"}),' apps in a given category (like "Defi"), since dApps often rely on each other to work.']}),(0,i.jsx)("li",{children:'We also recommend keeping the "utils" category selected for the same reason.'})]})]}),(0,i.jsx)("div",{className:"py-4 overflow-auto border-[1px] border-gray-300 rounded-lg",children:(0,i.jsx)(_.Z,{trustedApps:n,chainId:t,addApp:s,removeApp:d,addCategory:r,removeCategory:a,autoSelect:!0})})]})}function R(){return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold font-display",children:"Add Friends to Your Trusted Network"}),(0,i.jsxs)("div",{className:"space-y-2 text-md",children:[(0,i.jsx)("p",{children:"Adding friends to your trusted network will allow you to send your tokens and NFTs to those wallets. Adding friends protects you from approving scams and accidentally transferring assets to the wrong people."}),(0,i.jsx)("p",{className:"font-semibold",children:"You can use your dashboard to add friends to your trusted network after completing onboarding."})]})]})}var B=t(64343),D=t(94184),W=t.n(D);function U(e){var n=e.trustedApps,t=e.chainId,r=e.addCategory,s=e.removeCategory,d={DeFi:"I use DeFi or Swaps","NFT Apps":"I use NFT marketplaces and apps",Gaming:"I play Web3 Games",DAOs:"I vote in DAOs",Bridges:"I use bridges to use apps on different chains"},o=(0,T.ML)(t);return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold font-display",children:"Create a Trusted Network"}),(0,i.jsxs)("div",{className:"space-y-2 text-md",children:[(0,i.jsx)("p",{children:"Your trusted network allows your wallet to only interact with the addresses and apps you trust, while restricting access from scammers, phishers, hackers, and unknown addresses."}),(0,i.jsx)("p",{className:"font-semibold",children:"To begin, describe yourself by choosing all that apply."})]}),(0,i.jsx)("div",{className:"space-y-2",children:Object.entries(o).map(function(e){var t=(0,a.Z)(e,2),l=t[0],c=t[1].map(function(e){return e.name}).every(function(e){return n.includes(e)});return"Utils"!=l&&(0,i.jsxs)("button",{className:W()("group pl-12 relative p-1 border-2 rounded-md hover:border-harpie w-full text-left",c&&"border-harpie"),onClick:function(){return c?s(l):r(l)},children:[(0,i.jsx)("h2",{className:"text-xl font-display",children:d[l]}),(0,i.jsxs)("p",{className:"overflow-y-auto text-sm text-gray-500",children:["...like"," ",o[l].slice(0,3).map(function(e,n){return 2===n?"and "+e.name:e.name}).join(", ")]}),c?(0,i.jsx)(B.Z,{className:"absolute w-6 h-6 text-white translate-y-full border-2 rounded-full -top-2 border-harpie bg-harpie left-3"}):(0,i.jsx)("div",{className:"absolute w-6 h-6 translate-y-full border-2 border-gray-200 rounded-full -top-2 group-hover:border-harpie left-3"})]},l)})})]})}var O=t(70208),M=t(26179);let Y=m.forwardRef(function(e,n){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},e),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16l-4-4m0 0l4-4m-4 4h18"}))});var H=t(73359),V=t(50319),G=t(92575),q=t(85582),z=t(27989),J=t(99214),K=t(12567),X=["                                                                 @@@@           \n                                                           @@@@@@@@@@           \n                                                      @@@@@@@@@@@@@@            \n                             @@@@@@@@@@@@       @@@@@@@@@@@@@@@@@@              \n                        @@@@@@@@@@@@       @@@@@@@@@@@@@@@@@   @@@@@            \n                     @@@@@@@@@@       @@@@@@@@@@@@@@@@@@@ @@@@@@@@@@            \n                  @@@@@@@@@@     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             \n                @@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                \n               @@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                 \n             @@@@@@@@@@   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                \n            @@@@@@@@@@   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@               \n            @@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@              \n           @@@@@@@@@@   @@@            @@@@@@@@@@@@@@@@@@@@@@@@@@@@             \n           @@@@@@@@@@   @                @@@@@@@@@@@@@@@@@@@@@@@@@@             \n           @@@@@@@@@@                     @@@@@@@@@@@@@@@@@@@@@@@@@             \n           @@@@@@@@@@@                     @@@@@@@@@@@@@@@@@@@@@@@@             \n            @@@@@@@@@@@                   @@@@@@@@@@@@@@@@@@@@@@@@              \n            @@@@@@@@@@@@                 @@@@@@@@@@@@@@@@@@@@@@@@               \n             @@@@@@@@@@@@@@            @@@@@@@@@@@@@@@@@@@@@@@@@                \n               @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                 \n                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                  \n                  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    \n                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                       \n                        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                          \n                             @@@@@@@@@@@@@@@@@@@@                             ","                                                                 ####           \n                                                           ##########           \n                                                      ##############            \n                             ############       ##################              \n                        ############       #################   #####            \n                     ##########       ################### ##########            \n                  ##########     ##################################             \n                ##########    ##################################                \n               #########    ###################################                 \n             ##########   ######################################                \n            ##########   ########################################               \n            #########    #########################################              \n           ##########   ###            ############################             \n           ##########   #                ##########################             \n           ##########                     #########################             \n           ###########                     ########################             \n            ###########                   ########################              \n            ############                 ########################               \n             ##############            #########################                \n               ################################################                 \n                ##############################################                  \n                  ##########################################                    \n                     ####################################                       \n                        ##############################                          \n                             ####################                             ","                                                                 %%%%           \n                                                           %%%%%%%%%%           \n                                                      %%%%%%%%%%%%%%            \n                             %%%%%%%%%%%%       %%%%%%%%%%%%%%%%%%              \n                        %%%%%%%%%%%%       %%%%%%%%%%%%%%%%%   %%%%%            \n                     %%%%%%%%%%       %%%%%%%%%%%%%%%%%%% %%%%%%%%%%            \n                  %%%%%%%%%%     %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%             \n                %%%%%%%%%%    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                \n               %%%%%%%%%    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                 \n             %%%%%%%%%%   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                \n            %%%%%%%%%%   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%               \n            %%%%%%%%%    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%              \n           %%%%%%%%%%   %%%            %%%%%%%%%%%%%%%%%%%%%%%%%%%%             \n           %%%%%%%%%%   %                %%%%%%%%%%%%%%%%%%%%%%%%%%             \n           %%%%%%%%%%                     %%%%%%%%%%%%%%%%%%%%%%%%%             \n           %%%%%%%%%%%                     %%%%%%%%%%%%%%%%%%%%%%%%             \n            %%%%%%%%%%%                   %%%%%%%%%%%%%%%%%%%%%%%%              \n            %%%%%%%%%%%%                 %%%%%%%%%%%%%%%%%%%%%%%%               \n             %%%%%%%%%%%%%%            %%%%%%%%%%%%%%%%%%%%%%%%%                \n               %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                 \n                %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                  \n                  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                    \n                     %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                       \n                        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                          \n                             %%%%%%%%%%%%%%%%%%%%                             ","                                                                 ****           \n                                                           **********           \n                                                      **************            \n                             ************       ******************              \n                        ************       *****************   *****            \n                     **********       ******************* **********            \n                  **********     **********************************             \n                **********    **********************************                \n               *********    ***********************************                 \n             **********   **************************************                \n            **********   ****************************************               \n            *********    *****************************************              \n           **********   ***            ****************************             \n           **********   *                **************************             \n           **********                     *************************             \n           ***********                     ************************             \n            ***********                   ************************              \n            ************                 ************************               \n             **************            *************************                \n               ************************************************                 \n                **********************************************                  \n                  ******************************************                    \n                     ************************************                       \n                        ******************************                          \n                             ********************                             "];function Q(e){var n=e.appCount,t=e.setIsAnimationFinished,r=["Building trusted network...","Locating vulnerabilities...","Setting up firewall...","Detecting token and NFT balances...","Reading the mempool...","Talking with miners...","".concat(n," out of ").concat(n," apps loaded..."),"[ | | | | | | | | | | | | | | | | ]","Complete.","Activating dashboard. Ready."],a=(0,m.useState)(0),s=a[0],d=a[1],o=(0,m.useState)([r[0]]),l=o[0],u=o[1],h=(0,m.useState)(""),p=h[0],f=h[1],x=(0,m.useState)(""),g=x[0],v=x[1],b=(0,m.useState)(0),y=b[0],w=b[1],$=(0,m.useState)(.5),I=$[0],k=$[1],N=function(){var e=s+1;d(e),u((0,c.Z)(l).concat([r[e]])),f("")};return(0,m.useEffect)(function(){v(X[Math.floor(Math.random()*X.length)])},[I]),(0,m.useEffect)(function(){if(6===s){(y>n||0===n)&&N();var e=r[s].slice(3),t=setTimeout(function(){f("".concat(y," ").concat(e)),w(y+1)},75);return function(){return clearTimeout(t)}}if(7===s){r[s].slice(0,p.length+1)===r[s]&&N();var a=setTimeout(function(){f(r[s].slice(0,p.length+1))},75);return function(){return clearTimeout(a)}}if(!(l.length>r.length)){var i=setTimeout(function(){N()},575);return function(){return clearTimeout(i)}}},[s,l,p,y]),(0,m.useEffect)(function(){if(!(I>=100)&&6!==s){var e=setTimeout(function(){k(I+10)},575);return function(){return clearTimeout(e)}}},[I,s]),(0,m.useEffect)(function(){I>=100&&l.length>r.length&&t(!0)},[I,l]),(0,i.jsxs)("div",{className:"relative h-full bg-harpie",children:[(0,i.jsx)("div",{className:"absolute right-0 inline-block p-4 text-sm top-24",children:(0,i.jsx)("pre",{style:{fontFamily:"monospace"},children:g})}),(0,i.jsxs)("div",{className:"absolute bottom-0 w-full mb-10 text-sm pr-14 pl-14",children:[(0,i.jsxs)("div",{className:"flex items-end justify-between font-display",children:[(0,i.jsx)("div",{children:l.map(function(e,n){return(0,i.jsx)("div",{className:"tracking-wider",children:n===s?p:e},n)})}),(0,i.jsx)(j(),{href:"https://discord.com/invite/tgCrYeZGNN",children:(0,i.jsx)("a",{className:"border-b border-black",target:"_blank",rel:"noreferrer",children:"Stuck? Contact customer support"})})]}),(0,i.jsx)("div",{className:"bg-black h-9 mt-7",style:{width:"".concat(I,"%")}})]})]})}var ee=t(2593),en=t(69463);function et(e){var n,t,d=e.affiliate,o=(0,u.useRouter)(),l=(0,h.Z)(),p=l.slide,x=l.nextSlide,w=l.prevSlide,$=l.slideRef,k=l.canBack,S=l.canContinue,C=l.setCanContinue,E=l.isContinueLoading,P=l.setIsContinueLoading,_=(0,m.useState)(""),B=_[0],D=_[1],X=(0,m.useState)(null),et=X[0],er=X[1],ea=(0,y.Z)(),es=ea.signer,ei=ea.address,ed=ea.chain,eo=ea.provider,el=(0,O.Z)(),ec=el.errors,eu=el.pushError,em=el.popError,eh=ei===B&&(null==ed?void 0:ed.id)===et,ep=(0,a.Z)((0,H.t)(g.kC),1)[0],ef=(0,a.Z)((0,V.D)(G.l0),1)[0],ex=(0,a.Z)((0,V.D)(G.UB),1)[0],eg=(0,a.Z)((0,H.t)(g.Ig),1)[0],ev=(0,a.Z)((0,V.D)(G.R_),1)[0],eb=(0,m.useState)(!1),ey=eb[0],ew=eb[1],e$=(0,m.useState)([]),ej=e$[0],eI=e$[1],ek=(0,m.useState)([]),eN=ek[0],eS=ek[1],eA=(0,m.useState)(!1),eT=eA[0],eC=eA[1],eE=(0,m.useState)(!1),eZ=eE[0],eP=eE[1];(0,m.useEffect)(function(){eZ&&!E&&o.push("/app/dashboard/".concat(B,"/?chainId=").concat(et,"?firstTime=true"))},[eZ,E]);var eF,e_,eL,eR=function(e){eI(ej.concat(e))},eB=function(e){eI(ej.filter(function(n){return n!==e}))},eD=function(e){var n,t,r=null!==(t=null===(n=(0,T.ML)(et)[e])||void 0===n?void 0:n.map(function(e){return e.name}))&&void 0!==t?t:[];eI(ej.filter(function(e){return!r.includes(e)}).concat(r))},eW=function(e){var n=(0,T.ML)(et)[e].map(function(e){return e.name});eI(ej.filter(function(e){return!n.includes(e)}))},eU=(eF=(0,r.Z)(function(e,n){var t,r,a;return(0,s.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,F.Dq.validate(e)];case 1:return t=a.sent(),[4,F.nV.validate(""!==n?n:e)];case 2:if(r=a.sent(),eN.map(function(e){return e.address}).includes(e))throw Error("Your Trusted Network already includes this address!");return eS(eN.concat({address:t,name:r})),[3,4];case 3:return eu(a.sent()),[3,4];case 4:return[2]}})}),function(e,n){return eF.apply(this,arguments)}),eO=(e_=(0,r.Z)(function(e){var n;return(0,s.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,q.f)(null==e?void 0:e.trustedNetworkToken,J.Ov,ej,eN,et,es)];case 1:return[2,n.sent()];case 2:return n.sent(),[2];case 3:return[2]}})}),function(e){return e_.apply(this,arguments)}),eM=(eL=(0,r.Z)(function(){var e,n,t,a,i,o,l,u,m,h,p,f,x,g,v,b,y,w;return(0,s.__generator)(this,function(e){switch(e.label){case 0:if(P(!0),!eh)throw Error("Connect to ".concat((0,I.W)(B)," on ").concat(ed.name," to proceed"));return[4,eg({variables:{subject:B}})];case 1:return[4,eO(n=e.sent().data)];case 2:if(!(t=e.sent()))return P(!1),[2];eC(!0),e.label=3;case 3:return e.trys.push([3,8,,10]),[4,ep({variables:{chainId:et}})];case 4:return m=e.sent().data,p=new Map(null!==(h=null==m?void 0:null===(a=m.allTokenMetadata)||void 0===a?void 0:a.map(function(e){return[e.address,e,]}))&&void 0!==h?h:new Map),[4,(0,z.nM)(B,ed,(0,c.Z)(p.values()),es)];case 5:var u;return f=e.sent(),g=new Map(null!==(x=null==f?void 0:f.map(function(e){return[e.tokenInput.address,e]}))&&void 0!==x?x:new Map),[4,Promise.allSettled(f.map((u=(0,r.Z)(function(e){var n;return(0,s.__generator)(this,function(t){switch(t.label){case 0:if(p.has(e.tokenInput.address))return[3,8];if(ee.O$.from(e.tokenInput.balance).isZero())return[3,1];return[3,8];case 1:if(!(0!==e.tokenInput.ids.length))return[3,8];t.label=2;case 2:return t.trys.push([2,7,,8]),[4,(0,en.J)(e.tokenInput.address,eo)];case 3:if(!t.sent())return[3,5];return[4,ev({variables:{address:e.tokenInput.address,chainId:ed.id,name:e.collectionName,symbol:e.symbol,type:e.type,avatar:e.imageUrl}})];case 4:return t.sent(),[3,6];case 5:g.delete(e.tokenInput.address),t.label=6;case 6:return[3,8];case 7:return n=t.sent(),console.error(n.message),[3,8];case 8:return[2]}})}),function(e){return u.apply(this,arguments)})))];case 6:return e.sent(),[4,ef({variables:{id:B,chainId:et,jwt:{sub:B,exp:null===(i=n.trustedNetworkToken)||void 0===i?void 0:i.exp,iat:null===(o=n.trustedNetworkToken)||void 0===o?void 0:o.iat,signature:t},trustedApps:ej,trustedAddresses:eN,tokens:(0,c.Z)(g.values()).map(function(e){return e.tokenInput}),affiliate:d},context:{headers:{authorization:"Bearer ".concat(null===(l=n.trustedNetworkToken)||void 0===l?void 0:l.signature)}}})];case 7:return e.sent(),console.log("SUCCESS. Generated dashboard ".concat(B,".")),[3,10];case 8:return e.sent(),console.error("ERROR. Creating fallback dashboard ".concat(B)),[4,ex({variables:{id:B,chainId:et,jwt:{sub:B,exp:null===(b=n.trustedNetworkToken)||void 0===b?void 0:b.exp,iat:null===(y=n.trustedNetworkToken)||void 0===y?void 0:y.iat,signature:t},trustedApps:ej,trustedAddresses:eN,affiliate:d},context:{headers:{authorization:"Bearer ".concat(null===(w=n.trustedNetworkToken)||void 0===w?void 0:w.signature)}}})];case 9:return e.sent(),console.warn("PARTIAL SUCCESS. Created fallback dashboard ".concat(B)),[3,10];case 10:return P(!1),[2]}})}),function(){return eL.apply(this,arguments)}),eY=[{label:"Connect Wallet",nextText:"Continue",onNext:function(){eU(B,"My Wallet"),x()},component:(0,i.jsx)(A,{setDashboardId:function(e){return D(e)},setChainId:function(e){return er(e)},setCanContinue:function(e){return C(e)}})},{label:"Create a Trusted Network",prevText:"Back",onPrev:function(){eS([]),eI([]),w()},nextText:"Continue",onNext:x,component:(0,i.jsx)(U,{trustedApps:ej,chainId:et,addCategory:eD,removeCategory:eW})},{label:"Add Apps",prevText:"Back",onPrev:w,onNext:x,nextText:"Continue",component:(0,i.jsx)(L,{trustedApps:ej,chainId:et,addCategory:eD,removeCategory:eW,addApp:eR,removeApp:eB})},{label:"Add Friends",prevText:"Back",onPrev:w,nextText:"Continue",onNext:x,component:(0,i.jsx)(R,{})},{label:"Review",prevText:"Back",onPrev:w,nextText:"Create Dashboard",onNext:function(){return ew(!0)},component:(0,i.jsx)(Z,{trustedApps:ej,trustedAddresses:eN,dashboardId:B,chainId:et,setCanContinue:function(e){return C(e)}})},];return eT?(0,i.jsx)(Q,{setIsAnimationFinished:eP,appCount:ej.length}):(0,i.jsx)("main",{id:"content",className:"flex items-center justify-center h-full max-w-full px-4 pt-20 mx-auto bg-white",children:(0,i.jsxs)("div",{className:"relative grid w-full h-full m-2 lg:w-[90%] lg:h-[90%] max-w-6xl max-h-192 grid-cols-5 gap-8 p-4 mx-auto my-auto",children:[(0,i.jsxs)("div",{className:"flex flex-col min-h-full col-span-5 gap-4 xl:col-span-5 max-h-0",children:[(0,i.jsx)("div",{className:"p-8 overflow-auto bg-white border-gray-300 border-[1px] rounded-xl grow shadow-lg mb-4",ref:$,children:eY[p].component}),(0,i.jsxs)("div",{className:"flex items-center justify-between w-full gap-2",children:[eY[p].prevText?(0,i.jsxs)(b.Z,{onClick:null===(n=eY[p])||void 0===n?void 0:n.onPrev,disabled:!k,secondary:!0,children:[(0,i.jsx)(Y,{className:"inline w-6 h-6"})," ",eY[p].prevText]}):(0,i.jsxs)(b.Z,{className:"invisible",secondary:!0,children:[(0,i.jsx)(Y,{className:"inline w-6 h-6"})," Back"]}),(0,i.jsx)("div",{className:"absolute flex-row items-center justify-around hidden col-span-1 gap-4 px-4 py-8 text-center text-gray-900 w-[7.5rem] -translate-x-[3.25rem] left-1/2 bg-none rounded-xl 2xl:justify-center xl:flex",children:eY.map(function(e,n){return(0,i.jsx)("div",{className:"items-center justify-center gap-2 font-display",children:(0,i.jsx)("p",{className:W()("grid place-items-center w-6 h-6 text-gray-100 text-xl rounded-full",p===n?"bg-harpie":"border-2 border-harpie")})},n)})}),eY[p].nextText?(0,i.jsx)(b.Z,{onClick:null===(t=eY[p])||void 0===t?void 0:t.onNext,disabled:!S||E,children:E?(0,i.jsx)(v.Z,{type:"ThreeDots",color:"lightblue",height:"1.4rem",width:"1.4rem"}):(0,i.jsxs)(i.Fragment,{children:[eY[p].nextText," ",(0,i.jsx)(f,{className:"inline w-6 h-6"})]})}):(0,i.jsx)("div",{})]})]}),(0,i.jsx)(M.Z,{errors:ec,popError:em}),(0,i.jsx)(K.Z,{title:"Welcome to Harpie!",confirmButtonText:"I Agree",description:(0,i.jsxs)("div",{className:"flex flex-wrap",children:[(0,i.jsx)("div",{className:"relative w-24 h-24 mx-auto -mt-8 md:h-48 md:w-48 ",children:(0,i.jsx)(N(),{src:"/images/Harpie-Logomark-Orange.svg",alt:"Harpie",className:"block",layout:"fill",priority:!0})}),(0,i.jsxs)("p",{className:"font-sans text-lg text-center",children:["By connecting your wallet and using Harpie, you agree to our"," ",(0,i.jsx)(j(),{href:"/terms",children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,i.jsx)(b.Z,{tertiary:!0,size:"sm",className:"px-0",children:"Terms of Use"})})})," ","and"," ",(0,i.jsx)(j(),{href:"/privacy",children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,i.jsx)(b.Z,{tertiary:!0,size:"sm",className:"px-0",children:"Privacy Policy"})})}),"."]})]}),open:ey&&eh,setOpen:ew,onConfirm:eM})]})})}var er=!0;function ea(e){var n,t,d=(0,m.useState)(""),c=d[0];d[1];var u=(0,m.useState)(!1),h=(u[0],u[1]),p=(0,m.useState)(""),f=(p[0],p[1]),x=(0,a.Z)((0,H.t)(g.JY),2),v=x[0],b=x[1].data;return null==b||b.isValidPassword,(0,r.Z)(function(e){var n,t;return(0,s.__generator)(this,function(n){switch(n.label){case 0:e.preventDefault(),h(!0),n.label=1;case 1:var r;return n.trys.push([1,3,,4]),[4,v({variables:{password:c}})];case 2:if(!n.sent().data.isValidPassword)throw Error("Incorrect Password!");return[3,4];case 3:return t=n.sent(),console.log(t.meesage),f(t.message),[3,4];case 4:return h(!1),[2]}})}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:" Get Started | Harpie"}),(0,i.jsx)("meta",{name:"description",content:"Activate your firewall on Harpie to protect your assets from theft and hacks."}),(0,i.jsx)("meta",{name:"robots",content:"index, follow"})]}),(0,i.jsx)(j(),{href:"#content",children:(0,i.jsx)("a",{className:"sr-only focus:not-sr-only",children:"Skip to content"})}),(0,i.jsx)(l.Z,{}),(0,i.jsx)(et,{affiliate:e.affiliate})]})}},99214:function(e,n,t){"use strict";t.d(n,{BW:function(){return i},Ov:function(){return d},RT:function(){return l},Tu:function(){return s},ge:function(){return r},l_:function(){return a},y8:function(){return o}});var r=function(e){return{name:"Harpie Login",version:"1",chainId:e}},a={AuthToken:[{name:"message",type:"string"},{name:"trustedApps",type:"string[]"},{name:"trustedAddresses",type:"CustomAddress[]"},{name:"signedAt",type:"string"},{name:"verificationString",type:"string"},],CustomAddress:[{name:"address",type:"address"},{name:"name",type:"string"},]},s={ChangeRecipientToken:[{name:"message",type:"string"},{name:"userAddress",type:"address"},{name:"currentRecipientAddress",type:"address"},{name:"desiredRecipientAddress",type:"address"},]},i={UpdateEmailToken:[{name:"message",type:"string"},{name:"oldEmail",type:"string"},{name:"newEmail",type:"string"},{name:"signedAt",type:"string"},{name:"verificationString",type:"string"},]},d="Welcome to Harpie!\nClick to sign in and update your trusted network.\n\nThis signature will not trigger a blockchain transaction or cost any gas fees. Your session will be valid for 5 minutes.",o="You are requesting to change your recipient address.\n\nThis signature is an additional form of security. After signing, you'll be able to switch your recipient address on our smart contract.\n\nThis signature will not trigger a blockchain transaction or cost any gas fees.",l="Click to sign in and update your email.\n\nThis signature will not trigger a blockchain transaction or cost any gas fees. Your session will be valid for 5 minutes."}},function(e){e.O(0,[5445,423,2013,9539,1664,2614,5675,3591,8198,2429,5285,6098,3154,3722,9774,2888,179],function(){return e(e.s=8778)}),_N_E=e.O()}]);