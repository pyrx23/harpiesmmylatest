(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7593],{5318:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/dashboard/[dashboardId]/livetest",function(){return n(23132)}])},23132:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSP:function(){return N},default:function(){return I}});var r=n(85893),i=n(9008),a=n.n(i),s=n(53154),o=n(41664),c=n.n(o),l=n(46232),u=n(47568),h=n(828),f=n(70655),d=n(67294),p=n(52416),y=n(66897),v=n(83975),x=n(61744),m=n(75198),b=n(52788),g=n(62782),j=n(40725),w=n.n(j),O=n(63750),P=n(17065),M=n(30245),k=n(73359);function S(){var t=(0,p.Z)().setChain,e=(0,d.useState)(!1),n=e[0],i=e[1],a=(0,d.useState)(!1),s=a[0],o=a[1],j=(0,d.useState)(!1),S=j[0],N=j[1],I=(0,d.useState)(30),C=I[0],_=I[1],A=(0,d.useContext)(l.G),E=A.tokens,T=A.chain,F=A.transactions,D=A.dashboardId,R=A.createdAt,U=A.isLoading,Z=(0,p.Z)(),L=Z.signer,B=Z.address,V=(0,d.useState)(!0),W=V[0],G=V[1],Q=(0,d.useState)(!1),Y=Q[0],H=Q[1],q=(0,d.useState)(!1),X=q[0],z=q[1],K=(0,d.useState)(!1),$=K[0],J=K[1],tt=(0,d.useState)(!1),te=tt[0],tn=tt[1],tr=(0,h.Z)((0,k.t)(M.K2),1)[0],ti=Y&&X;(0,d.useEffect)(function(){ti&&C>0&&setTimeout(function(){return _(C-1)},1e3)},[ti,C]);var ta=(0,d.useCallback)((0,u.Z)(function(){var t,e;return(0,f.__generator)(this,function(t){switch(t.label){case 0:if(!T||!L)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,v.aV)(T.fauAddress,L).balanceOf(D)];case 2:return t.sent().gte(x.parseUnits("1",18))&&H(!0),G(!1),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}})}),[T,D,L]);(0,d.useEffect)(function(){ta()},[ta]);var ts=(0,d.useCallback)((0,u.Z)(function(){var t,e;return(0,f.__generator)(this,function(t){switch(t.label){case 0:if(!T||!L)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,v.aV)(T.fauAddress,L).allowance(D,T.flashbotAddress)];case 2:return t.sent().isZero()||z(!0),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}})}),[T,D,L]);(0,d.useEffect)(function(){ts()},[ts]);var to,tc=(0,d.useCallback)((0,u.Z)(function(){return(0,f.__generator)(this,function(t){if(!T||!L)return[2];try{J(F.data.some(function(t){var e,n;return(null==t?void 0:t.status)===m.L.SUCCESS&&((null==t?void 0:t.type)===m.i.FRONTRUN_ATTEMPT||(null==t?void 0:t.type)===m.i.VAULT_WITHDRAWAL)&&(null==t?void 0:null===(e=t.payload)||void 0===e?void 0:null===(n=e.tokenMetadata)||void 0===n?void 0:n.symbol)==="FAU"})||E.data.some(function(t){return(null==t?void 0:t.vaultBalance)!=="0"}))}catch(e){}return[2]})}),[T,L,F.data]);(0,d.useEffect)(function(){tc()},[tc]);var tl,tu,th=(to=(0,u.Z)(function(){var t,e,n;return(0,f.__generator)(this,function(t){switch(t.label){case 0:if(B!==D||!T||!L)return[2];t.label=1;case 1:return t.trys.push([1,4,,5]),o(!0),[4,(0,v.aV)(T.fauAddress,L).mint(D,x.parseUnits("1000",18))];case 2:return[4,t.sent().wait()];case 3:return t.sent(),H(!0),o(!1),[3,5];case 4:return n=t.sent(),console.error(n),o(!1),[3,5];case 5:return[2]}})}),function(){return to.apply(this,arguments)}),tf=(tl=(0,u.Z)(function(){var t,e,n,r,i,a,s,o,c;return(0,f.__generator)(this,function(t){switch(t.label){case 0:if(B!==D||!T||!L)return[2];return[4,tr({variables:{address:T.fauAddress,chainId:T.id},fetchPolicy:"network-only"})];case 1:e=t.sent().data,t.label=2;case 2:return t.trys.push([2,8,,10]),N(!0),i=(0,v.aV)(T.fauAddress,L),[4,(0,v.s8)(i,T.flashbotAddress,x.parseUnits("9999999999999999999999",null==e?void 0:null===(r=e.tokenMetadata)||void 0===r?void 0:r.decimals))];case 3:return n=t.sent(),[4,F.create(m.i.PROTECTION,m.L.PENDING,{tokenMetadata:null==e?void 0:e.tokenMetadata,txHash:n.hash})];case 4:return s=t.sent().data,[4,n.wait()];case 5:return t.sent(),[4,F.update(s.createTransaction.id,m.i.PROTECTION,m.L.SUCCESS)];case 6:return t.sent(),[4,E.importMetadata(T.fauAddress,"ERC20")];case 7:return t.sent(),z(!0),N(!1),[3,10];case 8:return o=t.sent(),console.error(o),N(!1),[4,F.create(m.i.PROTECTION,m.L.FAIL,{tokenMetadata:null==e?void 0:e.tokenMetadata,txHash:null!==(c=null==n?void 0:n.hash)&&void 0!==c?c:""})];case 9:return t.sent(),[3,10];case 10:return[2]}})}),function(){return tl.apply(this,arguments)}),td=(tu=(0,u.Z)(function(){var t,e,n,r,a,s;return(0,f.__generator)(this,function(n){switch(n.label){case 0:if(B!==D||!T||!L)return[2];n.label=1;case 1:return n.trys.push([1,4,,5]),i(!0),t=(0,v.aV)(T.fauAddress,L),e=b.pU,[4,t.transfer(e,x.parseUnits("1",18))];case 2:return[4,n.sent().wait()];case 3:return n.sent(),[3,5];case 4:return n.sent().message.includes("fail")&&(tn(!0),J(!0)),[3,5];case 5:return[4,tr({variables:{address:T.fauAddress,chainId:T.id},fetchPolicy:"network-only"})];case 6:if(!(null==(a=n.sent().data)?void 0:a.tokenMetadata))return[3,8];return s={address:a.tokenMetadata.address,chainId:a.tokenMetadata.chainId,name:a.tokenMetadata.name,symbol:a.tokenMetadata.symbol,erc20Value:a.tokenMetadata.erc20Value,erc721Values:{},type:a.tokenMetadata.type,avatar:a.tokenMetadata.avatar,decimals:a.tokenMetadata.decimals},[4,E.syncOne(s)];case 7:n.sent(),n.label=8;case 8:return i(!1),[4,F.refetch()];case 9:return n.sent(),[2]}})}),function(){return tu.apply(this,arguments)});return U?(0,r.jsx)("main",{className:"pt-32 mx-auto w-[60%] my-8 flex items-center justify-center flex-col gap-8",children:(0,r.jsx)("h1",{className:"text-xl text-center font-display",children:"Loading live test..."})}):T?void 0===R?(0,r.jsxs)("main",{className:"pt-32 mx-auto w-[60%] my-8 flex items-center justify-center flex-col gap-8",children:[(0,r.jsxs)("h1",{className:"text-xl text-center font-display",children:["The address:",(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"font-bold text-harpie",children:D}),(0,r.jsx)("br",{}),"on ",(0,r.jsx)("span",{className:"font-bold text-harpie",children:T.name}),(0,r.jsx)("br",{}),"is not registered on Harpie."]}),(0,r.jsx)(c(),{href:"/app/onboarding/",children:(0,r.jsx)("a",{className:"px-6 py-4 text-white rounded-sm bg-harpie font-display",children:"Get Started ->"})})]}):(0,r.jsxs)(r.Fragment,{children:[B!==D&&(0,r.jsx)("div",{className:"pt-32 mx-auto w-[60%] my-8 flex items-center justify-center flex-col gap-8",children:(0,r.jsxs)("h1",{className:"text-xl text-center font-display",children:["Please switch to this address to proceed:",(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"font-bold text-harpie",children:D}),(0,r.jsx)("br",{}),"on ",(0,r.jsx)("span",{className:"font-bold text-harpie",children:null==T?void 0:T.name})]})}),!W&&B===D&&(0,r.jsx)("div",{className:"min-h-full px-4 py-24 bg-white sm:px-6 md:py-36 md:grid md:place-items-center lg:px-8",children:(0,r.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,r.jsxs)("main",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"font-sans text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl sm:tracking-tight",children:"Live test your trusted network"}),(0,r.jsx)("p",{className:"mt-3 text-lg text-gray-700",children:"Whether it be through creating phishing sites, hijacking frontends, or impersonation, thieves will go to great lengths to steal your money."}),(0,r.jsx)("p",{className:"mt-3 text-lg text-gray-700",children:"We find that a live test is important as it will let you experience firsthand how Harpie can protect you from becoming a victim of crypto attacks. Live testing will cost gas."}),(0,r.jsxs)("ol",{className:"mt-10 space-y-5 text-lg list-decimal font-display",children:[(0,r.jsx)("li",{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"flex items-center gap-2",children:"Mint test tokens (FAU) to your wallet"}),Y?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g.Z,{disabled:!0,onClick:th,children:"Mint FAU"}),(0,r.jsx)(O.Reu,{className:"w-6 h-6 text-green-500"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("video",{autoPlay:!0,controls:!0,controlsList:"nodownload",loop:!0,className:"py-4 h-3/5",src:"/videos/mint.webm"}),(0,r.jsx)(g.Z,{disabled:Y,onClick:th,children:"Mint FAU"})]})]})}),(0,r.jsx)("li",{className:Y?" opacity-100":" opacity-40",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Protect your test tokens with Harpie"}),X?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g.Z,{disabled:!0,onClick:tf,children:"Protect Faucet token"}),(0,r.jsx)(O.Reu,{className:"w-6 h-6 text-green-500"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("video",{autoPlay:!0,controls:!0,controlsList:"nodownload",loop:!0,className:Y?" h-3/5 py-4":"hidden",src:"/videos/protect.webm"}),(0,r.jsx)(g.Z,{disabled:!Y||X,onClick:tf,children:"Protect Faucet token"})]})]})}),(0,r.jsx)("li",{className:ti?"":" opacity-40",children:(0,r.jsxs)("div",{children:[te&&(0,r.jsx)(w(),{numberOfPieces:500,tweenDuration:8e3,recycle:!1}),(0,r.jsxs)("p",{children:["Simulate an attack by sending your test tokens to ",(0,r.jsx)("code",{children:"0x00...01"})]}),$?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g.Z,{disabled:!ti,onClick:td,children:"Try Live Test Again"}),(0,r.jsx)(O.Reu,{className:"w-6 h-6 text-green-500"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("video",{autoPlay:!0,controls:!0,controlsList:"nodownload",loop:!0,className:ti?" h-4/5 py-4":"hidden",src:"/videos/fail.webm"}),(0,r.jsx)(g.Z,{disabled:!ti||C>0,onClick:td,children:"Begin Live Test"}),(0,r.jsx)("p",{hidden:30===C||0===C,children:"Preparing live test. Please wait ".concat(C," seconds...")})]})]})})]})]}),$&&(0,r.jsxs)("p",{className:"pt-4 text-sans",children:[(0,r.jsx)("strong",{children:"Congrats!"})," Your FAU has been successfully recovered and your account is correctly set up. ",(0,r.jsx)("br",{}),"Your FAU balance should now be 0. Please go back to your dashboard to withdraw your test tokens."]}),(0,r.jsxs)("div",{className:"flex justify-center mt-10 gap-x-10",children:[(0,r.jsx)(c(),{href:"/app/dashboard/".concat(D,"/?chainId=").concat(T.id),children:(0,r.jsx)("a",{children:(0,r.jsx)(g.Z,{secondary:!0,children:"Go back"})})}),Y?X?(0,r.jsxs)(P.Z,{open:n,title:"Waiting for Confirmation",children:[(0,r.jsxs)("p",{className:"text-lg",children:["Sending your ",(0,r.jsx)("span",{className:"font-semibold",children:"FAU"})," to 0x00...01"]}),(0,r.jsx)("p",{className:"mt-2 text-base text-gray-400 ",children:"Please confirm the transaction in your wallet app. Our systems will detect and intercept this transaction. It should fail."})]}):(0,r.jsxs)(P.Z,{open:S,title:"Waiting for Confirmation",children:[(0,r.jsxs)("p",{className:"text-lg",children:["Protecting ",(0,r.jsx)("span",{className:"font-semibold",children:"FAU"})," from theft"]}),(0,r.jsx)("p",{className:"mt-2 text-base text-gray-400 ",children:"Please confirm the transaction in your wallet app. Approving FAU allows our systems to move your test token into a secure vault when we detect a malicious transaction."})]}):(0,r.jsxs)(P.Z,{open:s,title:"Waiting for Confirmation",children:[(0,r.jsxs)("p",{className:"text-lg",children:["Minting ",(0,r.jsx)("span",{className:"font-semibold",children:"1000"})," FAU"]}),(0,r.jsx)("p",{className:"mt-2 text-base text-gray-400 ",children:"Please confirm the transaction in your wallet app."})]})]})]})})})]}):(0,r.jsxs)("main",{className:"pt-32 mx-auto w-[60%] my-8 flex items-center justify-center flex-col gap-8",children:[(0,r.jsxs)("h1",{className:"text-xl text-center font-display",children:[(0,r.jsx)("p",{children:"We've detected that you are connected to an unsupported chain. For now, we only support Ethereum Mainnet."}),(0,r.jsx)("p",{children:"Please switch the connected network to proceed."})]}),(0,r.jsx)(y.Z,{selectedChain:T,setChain:t})]})}var N=!0;function I(t){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:" Live Test | Harpie"}),(0,r.jsx)("meta",{name:"description",content:"Live test your trusted network and experience first-hand how Harpie's firewall can protect you from becoming a victim of crypto attacks."}),(0,r.jsx)("meta",{name:"robots",content:"index, follow"})]}),(0,r.jsx)(c(),{href:"#content",children:(0,r.jsx)("a",{className:"sr-only focus:not-sr-only",children:"Skip to content"})}),(0,r.jsx)(s.Z,{}),(0,r.jsx)(l._,{dashboardId:t.dashboardId,chainId:t.chainId,children:(0,r.jsx)(S,{})})]})}},40725:function(t,e,n){var r,i;"undefined"!=typeof self&&self,i=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,(function(e){return t[e]}).bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(e,n){e.exports=t},function(t,e,n){"use strict";var r={linear:function(t,e,n,r){return(n-e)*t/r+e},easeInQuad:function(t,e,n,r){return(n-e)*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-(n-e)*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return(n-e)*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return(n-e)*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){return(n-e)*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-(n-e)*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return(n-e)*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return(n-e)*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){var i=n-e;return-i*Math.cos(t/r*(Math.PI/2))+i+e},easeOutSine:function(t,e,n,r){return(n-e)*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-(n-e)/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0==t?e:(n-e)*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){var i=n-e;return t==r?e+i:i*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){var i=n-e;return 0===t?e:t===r?e+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-(n-e)*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return(n-e)*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){var i=n-e;return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var i,a,s,o=n-e;return s=1.70158,0===t?e:1==(t/=r)?e+o:(a=0,a=.3*r,(i=o)<Math.abs(o)?(i=o,s=a/4):s=a/(2*Math.PI)*Math.asin(o/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/a)+e)},easeOutElastic:function(t,e,n,r){var i,a,s,o=n-e;return s=1.70158,0===t?e:1==(t/=r)?e+o:(a=0,a=.3*r,(i=o)<Math.abs(o)?(i=o,s=a/4):s=a/(2*Math.PI)*Math.asin(o/i),i*Math.pow(2,-10*t)*Math.sin((t*r-s)*(2*Math.PI)/a)+o+e)},easeInOutElastic:function(t,e,n,r){var i,a,s,o=n-e;return s=1.70158,0===t?e:2==(t/=r/2)?e+o:(a=0,a=r*(.3*1.5),(i=o)<Math.abs(o)?(i=o,s=a/4):s=a/(2*Math.PI)*Math.asin(o/i),t<1?-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/a)*.5)+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/a)*.5+o+e)},easeInBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(n-e)*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(n-e)*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){var a=n-e;return void 0===i&&(i=1.70158),(t/=r/2)<1?a/2*(t*t*((1+(i*=1.525))*t-i))+e:a/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:function(t,e,n,i){var a=n-e;return a-r.easeOutBounce(i-t,0,a,i)+e},easeOutBounce:function(t,e,n,r){var i=n-e;return(t/=r)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,i){var a=n-e;return t<i/2?.5*r.easeInBounce(2*t,0,a,i)+e:.5*r.easeOutBounce(2*t-i,0,a,i)+.5*a+e}};t.exports=r},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"ReactConfetti",function(){return R});var r,i,a,s,o=n(0),c=n.n(o),l=n(1),u=n.n(l);function h(t,e){return t+Math.random()*(e-t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(r=a||(a={}))[r.Circle=0]="Circle",r[r.Square=1]="Square",r[r.Strip=2]="Strip",(i=s||(s={}))[i.Positive=1]="Positive",i[i.Negative=-1]="Negative";var p=function(){var t,e;function n(t,e,r,i){(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,n),d(this,"context",void 0),d(this,"radius",void 0),d(this,"x",void 0),d(this,"y",void 0),d(this,"w",void 0),d(this,"h",void 0),d(this,"vx",void 0),d(this,"vy",void 0),d(this,"shape",void 0),d(this,"angle",void 0),d(this,"angularSpin",void 0),d(this,"color",void 0),d(this,"rotateY",void 0),d(this,"rotationDirection",void 0),d(this,"getOptions",void 0),this.getOptions=e;var a=this.getOptions(),o=a.colors,c=a.initialVelocityX,l=a.initialVelocityY;this.context=t,this.x=r,this.y=i,this.w=h(5,20),this.h=h(5,20),this.radius=h(5,10),this.vx="number"==typeof c?h(-c,c):h(c.min,c.max),this.vy="number"==typeof l?h(-l,0):h(l.min,l.max),this.shape=Math.floor(0+3*Math.random()),this.angle=h(0,360)*Math.PI/180,this.angularSpin=h(-.2,.2),this.color=o[Math.floor(Math.random()*o.length)],this.rotateY=h(0,1),this.rotationDirection=h(0,1)?s.Positive:s.Negative}return t=[{key:"update",value:function(){var t=this.getOptions(),e=t.gravity,n=t.wind,r=t.friction,i=t.opacity,o=t.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=e,this.vx+=n,this.vx*=r,this.vy*=r,this.rotateY>=1&&this.rotationDirection===s.Positive?this.rotationDirection=s.Negative:this.rotateY<=-1&&this.rotationDirection===s.Negative&&(this.rotationDirection=s.Positive);var c=.1*this.rotationDirection;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,o&&"function"==typeof o)o.call(this,this.context);else switch(this.shape){case a.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case a.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case a.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}],f(n.prototype,t),e&&f(n,e),n}();function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function t(e,n){var r=this;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),y(this,"canvas",void 0),y(this,"context",void 0),y(this,"getOptions",void 0),y(this,"x",0),y(this,"y",0),y(this,"w",0),y(this,"h",0),y(this,"lastNumberOfPieces",0),y(this,"tweenInitTime",Date.now()),y(this,"particles",[]),y(this,"particlesGenerated",0),y(this,"removeParticleAt",function(t){r.particles.splice(t,1)}),y(this,"getParticle",function(){var t=h(r.x,r.w+r.x),e=h(r.y,r.h+r.y);return new p(r.context,r.getOptions,t,e)}),y(this,"animate",function(){var t=r.canvas,e=r.context,n=r.particlesGenerated,i=r.lastNumberOfPieces,a=r.getOptions(),s=a.run,o=a.recycle,c=a.numberOfPieces,l=a.debug,u=a.tweenFunction,h=a.tweenDuration;if(!s)return!1;var f=r.particles.length,d=o?f:n,p=Date.now();if(d<c){i!==c&&(r.tweenInitTime=p,r.lastNumberOfPieces=c);for(var y=r.tweenInitTime,v=u(p-y>h?h:Math.max(0,p-y),d,c,h),x=Math.round(v-d),m=0;m<x;m++)r.particles.push(r.getParticle());r.particlesGenerated+=x}return l&&(e.font="12px sans-serif",e.fillStyle="#333",e.textAlign="right",e.fillText("Particles: ".concat(f),t.width-10,t.height-20)),r.particles.forEach(function(e,n){e.update(),(e.y>t.height||e.y<-100||e.x>t.width+100||e.x<-100)&&(o&&d<=c?r.particles[n]=r.getParticle():r.removeParticleAt(n))}),f>0||d<c}),this.canvas=e;var i=this.canvas.getContext("2d");if(!i)throw Error("Could not get canvas context");this.context=i,this.getOptions=n};function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach(function(e){g(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j={width:"undefined"!=typeof window?window.innerWidth:300,height:"undefined"!=typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:u.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},w=function(){var t;function e(t,n){var r=this;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,e),g(this,"canvas",void 0),g(this,"context",void 0),g(this,"_options",void 0),g(this,"generator",void 0),g(this,"rafId",void 0),g(this,"setOptionsWithDefaults",function(t){var e={confettiSource:{x:0,y:0,w:r.canvas.width,h:0}};r._options=m(m(m({},e),j),t),Object.assign(r,t.confettiSource)}),g(this,"update",function(){var t=r.options,e=t.run,n=t.onConfettiComplete,i=r.canvas,a=r.context;e&&(a.fillStyle="white",a.clearRect(0,0,i.width,i.height)),r.generator.animate()?r.rafId=requestAnimationFrame(r.update):(n&&"function"==typeof n&&r.generator.particlesGenerated>0&&n.call(r,r),r._options.run=!1)}),g(this,"reset",function(){r.generator&&r.generator.particlesGenerated>0&&(r.generator.particlesGenerated=0,r.generator.particles=[],r.generator.lastNumberOfPieces=0)}),g(this,"stop",function(){r.options={run:!1},r.rafId&&(cancelAnimationFrame(r.rafId),r.rafId=void 0)}),this.canvas=t;var i=this.canvas.getContext("2d");if(!i)throw Error("Could not get canvas context");this.context=i,this.generator=new v(this.canvas,function(){return r.options}),this.options=n,this.update()}return b(e.prototype,[{key:"options",get:function(){return this._options},set:function(t){var e=this._options&&this._options.run,n=this._options&&this._options.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"==typeof t.recycle&&t.recycle&&!1===n&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"==typeof t.run&&t.run&&!1===e&&this.update()}}]),t&&b(e,t),e}();function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(){return(P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach(function(e){E(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function S(t,e){if(t){if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(t,e):void 0}}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T=c.a.createRef(),F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(s,t);var e,n,r,i,a=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e,r,i=A(s);if(n){var a=A(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return t=this,e=r,e&&("object"===O(e)||"function"==typeof e)?e:_(t)});function s(t){var e;!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,s);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return E(_(e=a.call.apply(a,[this,t].concat(r))),"canvas",c.a.createRef()),E(_(e),"confetti",void 0),e.canvas=t.canvasRef||T,e}return r=[{key:"componentDidMount",value:function(){if(this.canvas.current){var t=D(this.props)[0];this.confetti=new w(this.canvas.current,t)}}},{key:"componentDidUpdate",value:function(){var t=D(this.props)[0];this.confetti&&(this.confetti.options=t)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var t,e,n=function(t){if(Array.isArray(t))return t}(t=D(this.props))||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}}(t,2)||S(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],i=n[1],a=k({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},i.style);return c.a.createElement("canvas",P({width:r.width,height:r.height,ref:this.canvas},i,{style:a}))}}],I(s.prototype,r),i&&I(s,i),s}(o.Component);function D(t){var e,n={},r={},i=[].concat(function(t){if(Array.isArray(t))return N(t)}(e=Object.keys(j))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(e)||S(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["confettiSource","drawShape","onConfettiComplete"]),a=["canvasRef"];for(var s in t){var o=t[s];i.includes(s)?n[s]=o:a.includes(s)?a[s]=o:r[s]=o}return[n,r,{}]}E(F,"defaultProps",k({},j)),E(F,"displayName","ReactConfetti");var R=c.a.forwardRef(function(t,e){return c.a.createElement(F,P({canvasRef:e},t))});e.default=R}]).default},t.exports=i(n(67294))}},function(t){t.O(0,[5445,423,2013,9539,1664,2614,5675,3591,8198,2429,5285,6098,3154,3722,8608,9774,2888,179],function(){return t(t.s=5318)}),_N_E=t.O()}]);