(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4499],{42693:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/dashboard/[dashboardId]",function(){return s(76825)}])},93602:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(85893),n=s(67294);function r(e){var t=e.tabs,s=e.activeTab,r=e.setActiveTab,l=e.setTabRef,i=(0,n.useRef)();return(0,n.useEffect)(function(){return l&&l(i)},[]),(0,a.jsxs)("div",{className:"pb-6 grow",children:[(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:t.map(function(e,t){return(0,a.jsx)("button",{className:"py-2 text-xl transition-colors duration-300 font-display rounded-t-lg shadow-sm shadow-[#ca2a00]/20 ".concat(t===s?"bg-harpie text-white":"bg-orange-200 hover:bg-orange-300"),onClick:function(){return r(t)},children:e.label},t)})}),(0,a.jsx)("div",{className:"contents",children:(0,a.jsx)("div",{id:"tabContent",ref:i,className:"overflow-hidden min-h-[64vh] bg-white border-[1px] border-harpie rounded-b-lg shadow-sm shadow-[#ca2a00]/10",children:t[s].content})})]})}},26179:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(85893);function n(e){var t=e.errors,s=e.popError;return 0===t.length?null:(0,a.jsxs)("button",{onClick:s,className:"fixed px-6 py-3 text-base text-white bg-red-600 rounded-md cursor-pointer right-4 bottom-4 animate-bounce",children:["Errors [",t.length,"]: ",t[t.length-1].message]})}},96074:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var a=s(828),n=s(29815),r=s(85893),l=s(25675),i=s.n(l),o=s(90576),c=s(94184),d=s.n(c),u=s(67294);function x(e){var t=e.trustedApps,s=e.chainId,l=e.addApp,c=e.removeApp,x=e.addCategory,h=e.removeCategory,m=e.isReadOnly,p=e.sortSelectedToTop,f=e.isUpdating,g=e.autoSelect,j=(0,u.useMemo)(function(){var e=(0,o.ML)(s);return Object.entries(e).forEach(function(s){var r=(0,a.Z)(s,2),l=r[0],i=r[1],o=(0,n.Z)(i);o.sort(function(e,s){var a=t.find(function(t){return t===e.name}),n=t.find(function(e){return e===s.name});return p&&!a&&n?1:p&&a&&!n?-1:e.name.toLowerCase()>s.name.toLowerCase()?1:e.name.toLowerCase()<s.name.toLowerCase()?-1:0}),e[l]=o}),e},[s,p,t]),b=(0,u.useState)(new Set),v=b[0],w=b[1],y=(0,u.useState)(j),N=y[0],k=y[1];return(0,u.useEffect)(function(){f||(v.clear(),k(j))},[f]),(0,u.useEffect)(function(){g&&x("Utils")},[]),(0,r.jsx)("div",{className:"flex items-start gap-8 px-4 overflow-auto rounded-md",children:[Object.entries(f?N:j).map(function(e){var s=(0,a.Z)(e,2),n=s[0],o=s[1],u=o.map(function(e){return e.name}).every(function(e){return t.includes(e)});return(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"mb-2 text-2xl font-display",children:n}),!m&&(u?(0,r.jsx)("button",{onClick:function(){return h(n)},className:"hover:underline",children:"deselect all"}):(0,r.jsx)("button",{onClick:function(){return x(n)},className:"hover:underline",children:"select all"})),(0,r.jsx)("div",{className:"flex flex-col items-start gap-2 font-display",children:o.map(function(e){var s=t.find(function(t){return t===e.name});return(0,r.jsxs)("button",{className:d()("flex rounded-sm items-center justify-start w-64 gap-2 p-2 border-[1px] border-gray-900",!s&&"hover:bg-orange-100 hover:text-black",s&&"bg-harpie hover:bg-harpie-200 text-white",s&&!m&&"active:bg-harpie-600",m?"cursor-not-allowed":"hover:text-white active:bg-harpie cursor-pointer"),onClick:function(){!m&&(s?(c(e.name),v.delete(e.name),w(v)):(l(e.name),w(v.add(e.name))))},children:[(0,r.jsx)("div",{className:"relative w-6 h-6 ",children:(0,r.jsx)(i(),{src:e.avatar,alt:e.name,layout:"fill",objectFit:"cover",className:"rounded-full"})}),(0,r.jsx)("p",{className:"grow text-start",children:e.name})]},n+e.name)})})]},n)}),]})}},12567:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(85893),n=s(62782),r=s(41306);function l(e){var t=e.title,s=void 0===t?"":t,l=e.description,i=void 0===l?"":l,o=e.confirmable,c=e.confirmButtonText,d=e.cancelable,u=e.cancelButtonText,x=e.children,h=e.onConfirm,m=void 0===h?function(){return console.log("confirmed")}:h,p=e.wide,f=e.open,g=e.setOpen;return(0,a.jsx)(r.Z,{open:f,children:(0,a.jsx)("div",{className:(p?"max-w-[50rem]":"max-w-2xl")+" inline-block px-4 pt-5 pb-4 overflow-hidden text-left text-gray-900 align-bottom transition-all bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:w-full sm:p-8",children:(0,a.jsxs)("div",{className:"flex flex-col gap-8 mt-3 sm:mt-5",children:[s&&(0,a.jsx)("h3",{className:"max-w-3xl text-2xl font-bold leading-6 text-center text-gray-900 font-display",children:s}),i&&(0,a.jsx)("div",{children:i}),void 0===x?null:x,(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-40",children:[(void 0===d||d)&&(0,a.jsx)(n.Z,{secondary:!0,onClick:function(){return g(!1)},type:"button",children:void 0===u?"Cancel":u}),(void 0===o||o)&&(0,a.jsx)(n.Z,{onClick:function(){m(),g(!1)},type:"button",children:void 0===c?"Confirm":c})]})]})})})}},77505:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(67294);function n(){var e=(0,a.useState)(0),t=e[0],s=e[1],n=(0,a.useState)(0),r=n[0],l=n[1],i=(0,a.useState)(!0),o=i[0],c=i[1],d=(0,a.useState)(!0),u=d[0],x=d[1],h=(0,a.useState)(!1),m=h[0],p=h[1],f=(0,a.useRef)(),g=function(){o&&(l(0),s(t-1),f.current.scrollTo(0,0))},j=function(){u&&(l(0),s(t+1),f.current.scrollTo(0,0))},b=function(){return l(r+1)};return{slide:t,slideStep:r,prevSlide:g,nextSlide:j,nextSlideStep:b,skipToSlide:function(e){l(0),s(e),f.current.scrollTo(0,0)},slideRef:f,canBack:o,setCanBack:c,canContinue:u,setCanContinue:x,isContinueLoading:m,setIsContinueLoading:p}}},85582:function(e,t,s){"use strict";s.d(t,{f:function(){return i}});var a,n=s(47568),r=s(70655),l=s(99214),i=(a=(0,n.Z)(function(e,t,s,a,n,i){var o,c,d,u;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return d={message:t,trustedApps:s,trustedAddresses:a,signedAt:o=e.iat,verificationString:e.signature},[4,i._signTypedData((0,l.ge)(n),l.l_,d)];case 1:return[2,r.sent()]}})}),function(e,t,s,n,r,l){return a.apply(this,arguments)})},76825:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return tr},default:function(){return tl}});var a=s(47568),n=s(828),r=s(70655),l=s(85893),i=s(9008),o=s.n(i),c=s(53154),d=s(46232),u=s(67294),x=s(99603),h=s(59417),m=s(69743),p=s(27989),f=s(63750),g=s(94184),j=s.n(g),b=s(25675),v=s.n(b),w=function(e){var t=e.src;return"".concat(t)};function y(e){var t=e.token,s=e.className,a=void 0===s?"":s,n=e.showStatusIcon;return(0,l.jsxs)("div",{className:j()("relative",a,!a.includes("w-")&&"w-16",!a.includes("h-")&&"h-16"),children:[(0,l.jsx)(v(),{loader:w,src:t.metadata.avatar,alt:t.metadata.name,unoptimized:!0,layout:"fill",objectFit:"cover",className:"rounded-full shadow-sm shadow-[#ca2a00]/10"}),void 0!==n&&n&&(0,l.jsx)(l.Fragment,{children:(0,p.MX)(t)?(0,l.jsx)("div",{className:"absolute flex items-center justify-center w-6 h-6 bg-orange-500 rounded-full bg-opacity-60 -top-1 -right-1",children:(0,l.jsx)(f.zNb,{className:"absolute w-4 h-4 text-vault"})}):t.isApproved?(0,l.jsx)("div",{className:"absolute flex items-center justify-center w-6 h-6 bg-green-600 rounded-full bg-opacity-60 -top-1 -right-1",children:(0,l.jsx)(f.L3A,{className:"absolute w-4 h-4 text-green-600"})}):(0,l.jsx)("div",{className:"absolute flex items-center justify-center w-6 h-6 bg-gray-700 rounded-full bg-opacity-60 -top-1 -right-1",children:(0,l.jsx)(f.jJS,{className:"absolute w-4 h-4 text-gray-600"})})})]})}var N=s(10822),k=s(61782),C=s(17065),T=s(61744),S=s(21046),A=s(52416),E=s(83975),Z=s(75198),I=s(14045),R=s(41664),_=s.n(R),O=s(12567);function D(e){var t=e.text,s=e.children,a=(0,u.useState)(!1),n=a[0],r=a[1];return(0,l.jsxs)("span",{className:"",children:[(0,l.jsxs)("button",{className:"p-1 -ml-1 hover:bg-gray-100 hover:rounded-md",onClick:function(){return r(!n)},children:[(0,l.jsx)("span",{className:"underline",children:null!=t?t:"More Info"}),(0,l.jsx)("span",{className:"pl-1 m-auto text-xs text-center",children:n?"▼":"►"})]}),(0,l.jsx)("div",{className:"w-full p-2 my-1 rounded-lg bg-orange-50",hidden:!n,children:s})]})}var F=s(56365),W=s(70385);function M(e){var t=e.tokenMetadata,s=e.onConfirm,a=void 0===s?function(){return console.log("confirmed")}:s,n=e.open,r=e.setOpen;return(0,l.jsx)(O.Z,{title:"Protect Token",description:(0,l.jsxs)("div",{className:"font-sans text-base",children:["On the next screen, you will be asked to accept a wallet transaction that says: ",(0,l.jsx)("br",{}),(0,l.jsx)("p",{className:"mt-4 text-center",children:t.type===W.TokenType.ERC20?(0,l.jsxs)("strong",{children:["Give permission to access your ",t.symbol,"?"]}):(0,l.jsxs)("strong",{children:["Allow access to and transfer of all your ",t.name,"?"]})}),(0,l.jsx)("br",{}),"Protecting an asset is necessary to allow Harpie to intercept malicious activity outside of your trusted network."," ",(0,l.jsx)(D,{children:(0,l.jsxs)("p",{className:"p-3",children:["You are giving Harpie permission to move tokens on your behalf through something called an ",(0,l.jsx)("span",{className:"italic",children:"allowance"}),". This is standard for decentralized apps such as Uniswap or OpenSea."," ",(0,l.jsx)(_(),{href:"https://harpie.gitbook.io/welcome-to-the-harpie-docs/guides/getting-started/basics/what-happens-when-i-protect-something",children:(0,l.jsxs)("a",{target:"_blank",rel:"noreferrer",className:"underline cursor-pointer text-harpie",children:["Learn more about protecting assets",(0,l.jsx)(F.Z,{className:"inline w-4 h-4 mb-1"})]})})]})})]}),onConfirm:function(){a()},open:n,setOpen:r})}var H=s(62782),L=s(41306),P=s(40725),G=s.n(P);function U(e){var t=e.token,s=e.open,a=e.setOpen,n=e.setDoNotShowProtectSuccessAgain,r="I just protected my ".concat(t.metadata.name," with @harpieio! \uD83D\uDD25 Check out how you can protect your assets at https://harpie.io/"),i=function(e){var t=e.src;return"".concat(t)};return(0,l.jsx)(L.Z,{open:s,children:(0,l.jsxs)("div",{className:"inline-block max-w-2xl py-4 pl-4 overflow-hidden text-left text-gray-900 align-bottom transition-all border-2 shadow-xl rounded-xl bg-harpie border-harpie sm:my-8 sm:align-middle sm:w-full",children:[!0==s&&(0,l.jsx)(G(),{numberOfPieces:500,tweenDuration:8e3,recycle:!1,colors:["#fff119","#f2520a","#ff843c","#ff661e","#de3e00","#ca2a00","#000000"]}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("button",{onClick:function(){return a(!1)},type:"button",className:"absolute top-0 right-0 pl-1 pr-4 bg-harpie",children:(0,l.jsx)(x.G,{icon:h.EOp,className:"w-5 h-5"})})}),(0,l.jsxs)("div",{className:"flex flex-col gap-8 pr-4 my-3 sm:my-5",children:[(0,l.jsxs)("h3",{className:"max-w-3xl text-xl mx-8 text-center text-gray-900 font-['PT_Mono']",children:["You've just protected your ",(0,l.jsx)("span",{className:"underline font-harpie",children:t.metadata.name})," from theft, hacks, phishing, and scams! \uD83D\uDC4F"]}),(0,l.jsxs)("div",{className:"relative mx-auto bg-white rounded-full w-36 h-36",children:[(0,l.jsx)("div",{className:"flex justify-end text-green-600",children:(0,l.jsx)(x.G,{icon:h.fV7,className:"absolute z-10 -mt-1 bg-white rounded-full w-9 h-9"})}),(0,l.jsx)(v(),{loader:i,unoptimized:!0,src:t.metadata.avatar,alt:t.metadata.name,layout:"fill",objectFit:"cover",className:"rounded-full"})]}),(0,l.jsxs)("div",{className:"flex justify-around",children:[(0,l.jsx)(H.Z,{type:"button",className:"border-white",onClick:function(){n(!0),a(!1)},children:"Don't show again"}),(0,l.jsx)(_(),{href:"https://twitter.com/intent/tweet?text=".concat(r),children:(0,l.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,l.jsxs)(H.Z,{onClick:function(){a(!1)},type:"button",color:"black",className:"bg-black border-black hover:bg-gray-800",children:["Tweet this -",">"]})})})]})]})]})})}var z=s(92575),V=s(50319);function q(e){var t=e.tokenMetadata,s=e.onConfirm,a=void 0===s?function(){return console.log("confirmed")}:s,n=e.open,r=e.setOpen;return(0,l.jsx)(O.Z,{title:"Revoke Protection",description:(0,l.jsxs)("div",{className:"font-sans text-base",children:["Are you sure you'd like to revoke protection for your"," ",t.type===W.TokenType.ERC20?(0,l.jsxs)("strong",{children:[t.symbol,"?"]}):(0,l.jsxs)("strong",{children:[t.name,"?"]})]}),onConfirm:function(){a()},open:n,setOpen:r})}var B=s(11415);function Y(e){var t=e.tokenMetadata,s=e.onConfirm,a=void 0===s?function(){return console.log("confirmed")}:s,n=e.open,r=e.setOpen;return(0,l.jsx)(O.Z,{title:"Remove Asset",description:(0,l.jsxs)("div",{className:"font-sans text-base",children:["Are you sure you'd like to remove"," ",t.type===W.TokenType.ERC20?(0,l.jsx)("strong",{children:t.symbol}):(0,l.jsx)("strong",{children:t.name})," ","from your dashboard?"]}),onConfirm:function(){a()},open:n,setOpen:r})}function Q(e){var t=e.token,s=e.expanded,i=(0,u.useContext)(d.G),o=i.dashboardId,c=i.chain,m=i.isReadOnly,g=i.tokens,j=i.transactions,b=i.pushError,v=(0,u.useState)(!1),w=v[0],R=v[1],_=(0,u.useState)(!1),O=_[0],D=_[1],F=(0,u.useState)(!1),W=F[0],H=F[1],L=(0,u.useState)(null),P=L[0],G=L[1],Q=(0,u.useState)(!1),J=Q[0],K=Q[1],$=(0,u.useState)(!1),X=$[0],ee=$[1],et=(0,u.useState)(!1),es=et[0],ea=et[1],en=(0,u.useState)(!1),er=en[0],el=en[1],ei=(0,n.Z)((0,V.D)(z.B3),1)[0],eo=(0,u.useState)(JSON.parse(window.localStorage.getItem("DoNotShowProtectSuccessModalAgain"))||!1),ec=eo[0],ed=eo[1],eu=(0,A.Z)().signer,ex=(0,n.Z)((0,V.D)(z.gE),1)[0];(0,u.useEffect)(function(){var e=JSON.parse(window.localStorage.getItem("DoNotShowProtectSuccessModalAgain"));e&&ed(e)},[]),(0,u.useEffect)(function(){window.localStorage.setItem("DoNotShowProtectSuccessModalAgain",JSON.stringify(ec))},[ec]);var eh,em,ep,ef=t.isApproved,eg=(0,p.MX)(t),ej=t.metadata.type===p.iv.ERC20?parseFloat(T.formatUnits(t.balance,t.metadata.decimals))+parseFloat(T.formatUnits(t.vaultBalance,t.metadata.decimals)):t.ids.length+t.vaultIds.length,eb=(eh=(0,a.Z)(function(){var e,s,a,n,i,d,u;return(0,r.__generator)(this,function(n){switch(n.label){case 0:if(n.trys.push([0,9,,11]),m)throw Error("Dashboard is read-only, please connect to the correct wallet and chain to edit.");if(G((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"text-lg",children:["Protecting ",(0,l.jsx)("span",{className:"font-semibold",children:t.metadata.name})," from theft"]}),(0,l.jsx)("p",{className:"mt-2 text-base text-gray-400 ",children:"Please confirm the transaction in your wallet app"})]})),H(!0),t.metadata.type!==p.iv.ERC20)return[3,2];return e=(0,E.O9)(t.metadata.address,eu),a="0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984"===t.metadata.address?"999999":"9999999999999999999999",[4,(0,E.s8)(e,c.flashbotAddress,T.parseUnits(a,t.metadata.decimals))];case 1:s=n.sent(),n.label=2;case 2:if(t.metadata.type!==p.iv.ERC721)return[3,4];return e=(0,E.ik)(t.metadata.address,eu),[4,(0,E.V4)(e,c.flashbotAddress)];case 3:s=n.sent(),n.label=4;case 4:return[4,j.create(Z.i.PROTECTION,Z.L.PENDING,{tokenMetadata:t.metadata,txHash:s.hash})];case 5:return i=n.sent().data,[4,s.wait()];case 6:return n.sent(),[4,j.update(i.createTransaction.id,Z.i.PROTECTION,Z.L.SUCCESS)];case 7:return n.sent(),[4,g.syncOne(t.metadata)];case 8:return n.sent(),ex({variables:{dashboardId:o,chainId:c.id,dateTime:new Date().toDateString(),tokenName:t.metadata.name,tokenAddress:t.metadata.address}}),R(!1),H(!1),el(!0),[3,11];case 9:return d=n.sent(),console.error(d),H(!1),b(Error("Could not protect ".concat(t.metadata.name))),[4,j.create(Z.i.PROTECTION,Z.L.FAIL,{tokenMetadata:t.metadata,txHash:null!==(u=null==s?void 0:s.hash)&&void 0!==u?u:""})];case 10:return n.sent(),[3,11];case 11:return[2]}})}),function(){return eh.apply(this,arguments)}),ev=(em=(0,a.Z)(function(){var e,s,a,n,i,o;return(0,r.__generator)(this,function(a){switch(a.label){case 0:if(a.trys.push([0,9,,11]),m)throw Error("Dashboard is read-only, please connect to the correct wallet and chain to edit.");if(G((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"text-lg",children:["Revoking protection for ",(0,l.jsx)("span",{className:"font-semibold",children:t.metadata.name})]}),(0,l.jsx)("p",{className:"mt-2 text-base text-gray-400 ",children:"Please confirm the transaction in your wallet app"})]})),H(!0),t.metadata.type!==p.iv.ERC20)return[3,2];return e=(0,E.O9)(t.metadata.address,eu),[4,(0,E.s8)(e,c.flashbotAddress,S._Y)];case 1:s=a.sent(),a.label=2;case 2:if(t.metadata.type!==p.iv.ERC721)return[3,4];return e=(0,E.ik)(t.metadata.address,eu),[4,(0,E.MD)(e,c.flashbotAddress)];case 3:s=a.sent(),a.label=4;case 4:return[4,j.create(Z.i.REVOKE,Z.L.PENDING,{tokenMetadata:t.metadata,txHash:s.hash})];case 5:return n=a.sent().data,[4,s.wait()];case 6:return a.sent(),[4,j.update(n.createTransaction.id,Z.i.REVOKE,Z.L.SUCCESS)];case 7:return a.sent(),[4,g.syncOne(t.metadata)];case 8:return a.sent(),R(!1),H(!1),[3,11];case 9:return i=a.sent(),console.error(i),H(!1),b(Error("Could not revoke protection for ".concat(t.metadata.name))),[4,j.create(Z.i.REVOKE,Z.L.FAIL,{tokenMetadata:t.metadata,txHash:null!==(o=null==s?void 0:s.hash)&&void 0!==o?o:""})];case 10:return a.sent(),[3,11];case 11:return[2]}})}),function(){return em.apply(this,arguments)}),ew=(ep=(0,a.Z)(function(){var e;return(0,r.__generator)(this,function(s){switch(s.label){case 0:if(s.trys.push([0,3,,4]),m)throw Error("Dashboard is read-only, please connect to the correct wallet and chain to edit.");return[4,ei({variables:{address:t.metadata.address,dashboardId:o,chainId:c.id}})];case 1:return s.sent().data,[4,g.refetch()];case 2:return s.sent(),[3,4];case 3:return e=s.sent(),console.error(e),b(Error("Could not remove ".concat(t.metadata.name))),[3,4];case 4:return[2]}})}),function(){return ep.apply(this,arguments)}),ey="Not Protected",eN="red-400";return eg?(ey="In Vault",eN="vault"):ef&&(ey="Protected",eN="green-400"),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(M,{tokenMetadata:t.metadata,open:J,setOpen:K,onConfirm:function(){K(!1),eb()}}),(0,l.jsx)(q,{tokenMetadata:t.metadata,open:X,setOpen:ee,onConfirm:function(){ee(!1),ev()}}),(0,l.jsx)(Y,{tokenMetadata:t.metadata,open:es,setOpen:ea,onConfirm:function(){ea(!1),ew()}}),!ec&&(0,l.jsx)(U,{token:t,open:er,setOpen:el,setDoNotShowProtectSuccessAgain:ed}),(0,l.jsx)(C.Z,{open:W,title:"Waiting for Confirmation",children:P}),(0,l.jsxs)("div",{className:"grid grid-cols-4 col-span-4 gap-4 p-4 bg-white hover:bg-gray-100",onMouseOver:function(){return D(!0)},onMouseLeave:function(){return D(!1)},children:[(0,l.jsxs)("div",{className:"flex items-center justify-start col-span-1 gap-4 leading-4",children:[(0,l.jsx)(y,{token:t,className:"flex-shrink-0 w-8 h-8"}),(0,l.jsxs)("h6",{className:"w-full break-all",children:[t.metadata.name,t.metadata.type===p.iv.ERC721&&(0,l.jsxs)("button",{className:"flex items-center gap-1 text-xs text-gray-400 justify-left -bottom-4",onClick:function(){return R(!w)},children:[0===ej?"N/A":1===ej?"# ".concat(t.ids.concat(t.vaultIds)[0].slice(0,15)+(t.ids.concat(t.vaultIds)[0].length>=15?"...":"")):"".concat(ej," NFTs"),t.metadata.type===p.iv.ERC721&&ej>1&&(w?(0,l.jsx)(N.Z,{className:"w-4 h-4 text-gray-400"}):(0,l.jsx)(k.Z,{className:"w-4 h-4 text-gray-400"}))]})]})]}),(0,l.jsx)("div",{className:"flex items-center justify-start col-span-1 text-blue-600",children:(0,I.U)(ej,4)}),(0,l.jsxs)("div",{className:"flex items-center justify-start col-span-1 gap-2",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"bg-".concat(eN," opacity-10 w-3 h-3 rounded-full flex items-center justify-center ").concat(s?"-z-10":"animate-pulse")}),(0,l.jsx)("div",{className:"bg-".concat(eN," absolute inset-0.5 w-2 h-2 rounded-full")})]}),(0,l.jsx)("p",{children:ey})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center col-span-1",children:[!ef&&!m&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{type:"button",className:"flex items-center gap-2 px-3 py-2 mx-auto text-white bg-green-600 rounded-sm hover:bg-green-700",onClick:m?function(){}:function(){return K(!0)},disabled:m,children:["Protect ",(0,l.jsx)(f.dn1,{className:"w-4 h-4 text-white"})]}),O&&(0,l.jsx)(B.Z,{position:"tr",tooltip:(0,l.jsx)("p",{className:"px-2 py-1 text-xs text-white min-w-max bg-black/80",children:"remove"}),children:(0,l.jsx)("button",{onClick:function(){return ea(!0)},type:"button",className:"flex items-center justify-center p-1 -ml-8 bg-gray-100 rounded-full cursor-pointer",children:(0,l.jsx)(x.G,{icon:h.g82,className:"w-4 h-4 text-red-600"})})})]}),ef&&!m&&O&&(0,l.jsxs)("button",{type:"button",className:"flex items-center gap-2 px-3 py-2 mx-auto text-white bg-red-600 rounded-sm hover:bg-red-700",onClick:m?function(){}:function(){return ee(!0)},disabled:m,children:["Revoke ",(0,l.jsx)("span",{className:"hidden md:inline",children:"Protection"})," ",(0,l.jsx)(f.Ovj,{className:"w-4 h-4 text-white"})]})]}),w&&t.metadata.type===p.iv.ERC721&&ej>1&&t.vaultIds.concat(t.ids).map(function(e){var a="Not Protected",n="red-400";return t.vaultIds.includes(e)?(a="In Vault",n="vault"):ef&&(a="Protected",n="green-400"),(0,l.jsxs)("div",{className:"contents",children:[(0,l.jsxs)("div",{className:"flex items-center justify-start col-span-1 gap-4 leading-4 text-left",children:[(0,l.jsx)("div",{className:"w-6 h-6 shrink-0"}),(0,l.jsx)("div",{className:"rounded-md w-7 h-7"}),(0,l.jsxs)("h6",{children:["#",(0,I.W)(e)]})]}),(0,l.jsx)("div",{className:"flex items-center justify-start col-span-1 text-blue-600",children:"1"}),(0,l.jsxs)("div",{className:"flex items-center justify-start col-span-1 gap-2",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"bg-".concat(n," opacity-10 w-3 h-3 rounded-full flex items-center justify-center ").concat(s?"-z-10":"animate-pulse")}),(0,l.jsx)("div",{className:"bg-".concat(n," absolute inset-0.5 w-2 h-2 rounded-full")})]}),(0,l.jsx)("p",{children:a})]}),(0,l.jsx)("div",{className:"flex items-center justify-center col-span-1"})]},t.metadata.address+e)})]})]})}function J(e){var t=e.tokens,s=e.expanded,a=(0,u.useState)(""),n=a[0],r=a[1],i=(0,u.useMemo)(function(){return t.filter(function(e){return e.metadata.type===p.iv.ERC721?e.metadata.name.toLowerCase().includes(n.toLowerCase())||e.ids.some(function(e){return e.includes(n.toLowerCase())}):e.metadata.name.toLowerCase().includes(n.toLowerCase())})},[n,t]),o=(s?i:t).filter(function(e){return e.metadata.type===p.iv.ERC20}),c=(s?i:t).filter(function(e){return e.metadata.type===p.iv.ERC721}),d=(0,u.useState)(!0),x=d[0],h=d[1],g=(0,u.useState)(!0),j=g[0],b=g[1];return s?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"relative self-start my-4",children:[(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-6 pointer-events-none",children:(0,l.jsx)(m.Z,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})}),(0,l.jsx)("input",{type:"text",name:"assets-search",id:"assets-search",className:"block w-full py-2.5 pl-6 border-[1px] pr-14 mr-10 border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search for asset...",value:n,onChange:function(e){return r(e.currentTarget.value)}})]}),(0,l.jsxs)("div",{className:"flex flex-grow gap-4",children:[(0,l.jsx)("div",{className:"overflow-y-auto border-[1px] border-gray-300 rounded-md max-h-[52vh]",children:(0,l.jsxs)("div",{className:"grid items-start grid-cols-3 gap-6 p-6 overflow-y-auto justify-items-center",children:[i.map(function(e){return(0,l.jsx)(y,{token:e,className:"flex-shrink-0",showStatusIcon:!0},e.metadata.address)}),0===i.length&&(0,l.jsx)("div",{className:"w-16"})]})}),(0,l.jsxs)("div",{className:"flex flex-col flex-grow text-xs border-[1px] border-gray-300 rounded-md max-h-[52vh]",children:[(0,l.jsxs)("header",{className:"grid grid-cols-4 gap-4 p-4 pr-8 bg-gray-200",children:[(0,l.jsx)("div",{className:"font-semibold text-left text-gray-600 uppercase",children:"Name"}),(0,l.jsx)("div",{className:"font-semibold text-left text-gray-600 uppercase",children:"Quantity"}),(0,l.jsx)("div",{className:"font-semibold text-left text-gray-600 uppercase",children:"Status"}),(0,l.jsx)("div",{className:"font-semibold text-center text-gray-600 uppercase",children:"Action"})]}),(0,l.jsxs)("div",{className:"flex flex-col flex-grow gap-0 px-1 pb-1 overflow-y-auto bg-gray-200 auto-rows-max",children:[(0,l.jsxs)("button",{className:"flex items-center justify-between col-span-4 p-4 text-gray-600 bg-gray-100 border-b-2 border-gray-200",onClick:function(){return h(!x)},children:[(0,l.jsxs)("p",{children:["Tokens (",o.length,")"]}),x?(0,l.jsx)(f.E0f,{}):(0,l.jsx)(f.IAR,{})]}),x&&o.map(function(e){return(0,l.jsx)(Q,{token:e,expanded:s},e.metadata.address)}),(0,l.jsxs)("button",{className:"flex items-center justify-between col-span-4 p-4 text-gray-600 bg-gray-100 border-t-2 border-b-0 border-gray-200",onClick:function(){return b(!j)},children:[(0,l.jsxs)("p",{children:["NFT Collections (",c.length,")"]}),j?(0,l.jsx)(f.E0f,{}):(0,l.jsx)(f.IAR,{})]}),j&&c.map(function(e){return(0,l.jsx)(Q,{token:e,expanded:s},e.metadata.address)})]})]})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex gap-4 py-4 overflow-x-auto",children:[i.map(function(e){return(0,l.jsx)(y,{token:e,className:"flex-shrink-0",showStatusIcon:!0},e.metadata.address)}),0===i.length&&(0,l.jsx)("div",{className:"w-16"})]}),(0,l.jsxs)("div",{className:"flex flex-col flex-grow text-xs border-2 border-gray-200 rounded-md",children:[(0,l.jsxs)("header",{className:"grid grid-cols-4 gap-4 p-4 pr-8 bg-gray-200",children:[(0,l.jsx)("div",{className:"font-semibold text-left text-gray-600 uppercase",children:"Name"}),(0,l.jsx)("div",{className:"font-semibold text-left text-gray-600 uppercase",children:"Quantity"}),(0,l.jsx)("div",{className:"font-semibold text-left text-gray-600 uppercase",children:"Status"}),(0,l.jsx)("div",{className:"font-semibold text-center text-gray-600 uppercase",children:"Action"})]}),(0,l.jsxs)("div",{className:"flex flex-col flex-grow gap-0 px-1 pb-1 overflow-y-scroll bg-gray-200 auto-rows-max",children:[(0,l.jsxs)("button",{className:"flex items-center justify-between col-span-4 p-4 text-gray-600 bg-gray-100 border-b-2 border-gray-200",onClick:function(){return h(!x)},children:[(0,l.jsxs)("p",{children:["Tokens (",o.length,")"]}),x?(0,l.jsx)(f.E0f,{}):(0,l.jsx)(f.IAR,{})]}),x&&o.map(function(e){return(0,l.jsx)(Q,{token:e,expanded:s},e.metadata.address)}),(0,l.jsxs)("button",{className:"flex items-center justify-between col-span-4 p-4 text-gray-600 bg-gray-100 border-t-2 border-b-0 border-gray-200",onClick:function(){return b(!j)},children:[(0,l.jsxs)("p",{children:["NFT Collections (",c.length,")"]}),j?(0,l.jsx)(f.E0f,{}):(0,l.jsx)(f.IAR,{})]}),j&&c.map(function(e){return(0,l.jsx)(Q,{token:e,expanded:s},e.metadata.address)})]})]})]})}var K=s(52788);function $(e){var t,s=e.open,i=e.setOpen,o=(0,u.useContext)(d.G),c=o.tokens,x=o.chain,h=(0,u.useState)(""),m=h[0],p=h[1],f=(0,u.useState)(!1),g=f[0],j=f[1],b=(0,u.useState)(""),v=b[0],w=b[1],y=(0,u.useState)(""),N=y[0],k=y[1],C=(0,u.useState)(!1),T=C[0],S=C[1],A=(0,u.useState)(!1),E=A[0],Z=A[1];(0,u.useEffect)(function(){p(""),j(!1),w(""),k(""),s||(S(!1),Z(!1))},[s,T,E]);var I=(t=(0,a.Z)(function(e){var t;return(0,r.__generator)(this,function(s){switch(s.label){case 0:e.preventDefault(),j(!0),s.label=1;case 1:if(s.trys.push([1,6,,7]),!T)return[3,3];return[4,c.importMetadata(m,"ERC20")];case 2:return s.sent(),[3,5];case 3:if(!E)return[3,5];return[4,c.importMetadata(m,"ERC721")];case 4:s.sent(),s.label=5;case 5:return w("Successfully imported ".concat(m)),k(""),p(""),[3,7];case 6:return t=s.sent(),w(""),t.message.includes("NFT")?k(t.message):t.message.includes("Invalid")?k(t.message):t.message.includes("read-only")?k(t.message):k("Error importing asset!"+t.message),[3,7];case 7:return j(!1),[2]}})}),function(e){return t.apply(this,arguments)});return(0,l.jsx)(L.Z,{open:s,children:(0,l.jsxs)("div",{className:"inline-block max-w-xl px-4 pt-5 pb-4 overflow-hidden text-left align-bottom transition-all bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:w-full sm:p-8",children:[!T&&!E&&(0,l.jsxs)("div",{className:"justify-center w-full",children:[(0,l.jsx)("h3",{className:"max-w-3xl text-xl font-semibold leading-6 text-gray-900",children:"Choose what to import:"}),(0,l.jsxs)("div",{className:"flex flex-row justify-center w-full h-48 gap-4 mx-auto my-6",children:[(0,l.jsx)(H.Z,{secondary:!0,className:"w-[38%] rounded-full",onClick:function(){return S(!0)},children:"ERC20 Token"}),(0,l.jsx)(H.Z,{secondary:!0,className:"w-[38%]",onClick:function(){return Z(!0)},children:"NFT"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-40 mt-4",children:[(0,l.jsx)(H.Z,{secondary:!0,onClick:function(){return i(!1)},type:"button",className:"mx-auto",children:"Cancel"}),(0,l.jsx)(H.Z,{className:"hidden",children:"?"})]})]}),(T||E)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{className:"max-w-3xl text-xl font-semibold leading-6 text-gray-900",children:T?"Import ERC20 Token:":"Import NFT:"}),(0,l.jsxs)("form",{onSubmit:I,className:"flex flex-col w-full gap-6 mt-6",children:[(0,l.jsx)("div",{className:(N?"border-red-300":"border-gray-300")+" relative px-3 py-4 border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("label",{htmlFor:"address",className:"absolute inline-block px-1 text-xs font-medium text-gray-900 bg-white -top-2 left-2",children:["Address ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("input",{type:"text",name:"address",className:"block w-full p-0 text-gray-900 placeholder-gray-500 border-0 focus:ring-0 sm:text-sm",placeholder:"Address",value:m,onChange:function(e){return p(e.currentTarget.value)}})]})}),(0,l.jsxs)("div",{className:"".concat(E&&"hidden"),children:[(0,l.jsx)("p",{className:"mb-2 -mt-2 font-sans text-sm text-gray-800",children:"Quick Add"}),(0,l.jsx)("div",{className:"flex max-w-full gap-2 ",children:(0,K.fc)(x.id).map(function(e){var t=(0,n.Z)(e,2),s=t[0],a=t[1];return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(B.Z,{position:"bc",tooltip:(0,l.jsx)("p",{className:"px-2 py-1 text-xs text-white min-w-max bg-black/80",children:a}),children:(0,l.jsx)("button",{onClick:function(){return p(s)},type:"submit",disabled:g,children:(0,l.jsx)("img",{src:"/color/".concat(a.toLowerCase(),".webp"),alt:a,className:"w-10 h-10 rounded-full ".concat(g&&" opacity-50")})})})})})})]}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-40",children:""==v?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(H.Z,{secondary:!0,onClick:function(){S(!1),Z(!1)},type:"button",children:"Back"}),(0,l.jsx)(H.Z,{secondary:!1,disabled:!m||g,type:"submit",children:g?"Adding...":"Add"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(H.Z,{onClick:function(){i(!1)},children:"Close"}),(0,l.jsx)(H.Z,{secondary:!1,disabled:!m||g,type:"submit",children:g?"Adding...":"Add"})]})}),v&&(0,l.jsx)("p",{className:"text-green-600 whitespace-pre-line",children:v}),N&&(0,l.jsx)("p",{className:"text-red-600 whitespace-pre-line",children:N})]})]})]})})}function X(e){var t=e.onExpand,s=e.dashboardId,a=e.chainId,n=(0,u.useContext)(d.G),r=n.tokens,i=n.isReadOnly,o=(0,u.useState)(!1),c=o[0],m=o[1],p=(0,u.useState)(!1),f=p[0],g=p[1];return(0,l.jsxs)("div",{className:c?"absolute inset-0 z-10 overflow-hidden mt-[5.6rem]":"",children:[(0,l.jsx)($,{open:f,setOpen:g}),c?(0,l.jsx)("style",{children:"\n        html, body {\n          overflow: hidden;\n        }\n      "}):"",c?(0,l.jsx)(L.Z,{open:c,children:(0,l.jsxs)("div",{className:"bg-white relative w-[94%] h-[82vh] p-12 pr-16 rounded-xl inset-0 z-20 transition-all overflow-hidden mt-[5.3rem]",children:[(0,l.jsx)("button",{className:"absolute top-4 right-4 cursor-pointer]",onClick:function(){m(!1),t(!c)},children:c?(0,l.jsx)(x.G,{icon:h.Qj4,className:"w-6 h-6 text-gray-400 hover:text-gray-600"}):(0,l.jsx)(x.G,{icon:h.TL5,className:"w-6 h-6 text-gray-400 hover:text-gray-600"})}),0!==r.data.length?(0,l.jsx)(J,{tokens:r.data,expanded:c}):(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{children:"Welcome to Harpie! We currently don't detect any tokens in your wallet."}),(0,l.jsx)("div",{className:"relative w-40 h-40 mx-auto my-8",children:(0,l.jsx)(v(),{src:"/images/empty-folder.png",alt:"No tokens",layout:"fill"})}),(0,l.jsx)("p",{children:"You may need to import them. If you have NFTs, it may take a while for our system to automatically detect those."}),(0,l.jsxs)("p",{className:"mt-2",children:["Don't own any tokens? Try a ",(0,l.jsx)(_(),{href:"/app/dashboard/".concat(s,"/livetest/?chainId=").concat(a),children:(0,l.jsx)("a",{className:"text-harpie",children:"live test"})})," with test tokens."]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 p-2 mt-4 text-center",children:[(0,l.jsx)("p",{children:"Don't see your tokens or NFT?"}),(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsx)("button",{onClick:i?function(){}:function(){return g(!0),m(!1)},disabled:i,className:"text-".concat(r.isLoading||i?"gray-300 cursor-not-allowed":"harpie"),children:"Import assets"})})]})]})}):(0,l.jsxs)("div",{className:"relative flex flex-col w-full gap-4 bg-white p-9",children:[(0,l.jsx)("button",{className:"absolute cursor-pointer top-4 right-4",onClick:function(){m(!0),t(!c)},children:c?(0,l.jsx)(x.G,{icon:h.Qj4,className:"w-6 h-6 text-gray-400 hover:text-gray-600"}):(0,l.jsx)(x.G,{icon:h.TL5,className:"w-6 h-6 text-gray-400 hover:text-gray-600"})}),0!==r.data.length?(0,l.jsx)(J,{tokens:r.data,expanded:c}):(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{children:"Welcome to Harpie! We currently don't detect any tokens in your wallet."}),(0,l.jsx)("div",{className:"relative w-40 h-40 mx-auto my-8",children:(0,l.jsx)(v(),{src:"/images/empty-folder.png",alt:"No tokens",layout:"fill"})}),(0,l.jsx)("p",{children:"You may need to import them. If you have NFTs, it may take a while for our system to automatically detect those."}),(0,l.jsxs)("p",{className:"mt-2",children:["Don't own any tokens? Try a ",(0,l.jsx)(_(),{href:"/app/dashboard/".concat(s,"/livetest/?chainId=").concat(a),children:(0,l.jsx)("a",{className:"text-harpie",children:"live test"})})," with test tokens."]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 p-2 mt-4 text-center",children:[(0,l.jsx)("p",{children:"Don't see your tokens or NFT?"}),(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsx)("button",{onClick:i?function(){}:function(){return g(!0)},disabled:i,className:"text-".concat(r.isLoading||i?"gray-300 cursor-not-allowed":"harpie"),children:"Import assets"})})]})]})]})}var ee=s(73359),et=s(70625);function es(e){var t,s=e.onSubmit,n=e.onCancel,i=e.initialName,o=e.initialAddress,c=(0,u.useState)(void 0===i?"":i),d=c[0],m=c[1],p=(0,u.useState)(void 0===o?"":o),f=p[0],g=p[1],b=(t=(0,a.Z)(function(e){return(0,r.__generator)(this,function(t){return e.preventDefault(),s(f,d),[2]})}),function(e){return t.apply(this,arguments)});return(0,l.jsxs)("form",{onSubmit:b,className:"grid items-center grid-cols-4 px-4 py-6",children:[(0,l.jsx)("div",{className:"col-span-4 lg:col-span-1 lg:mr-2",children:(0,l.jsx)("input",{type:"text",name:"name",className:"w-full px-0 py-1 text-sm border-0 border-b-2 border-black focus:ring-0 focus:border-b-harpie",placeholder:"Name (optional)",value:d,onChange:function(e){return m(e.currentTarget.value)}})}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-between col-span-4 gap-4 mt-2 lg:mt-0 lg:gap-2 lg:col-span-3 lg:flex-row",children:[(0,l.jsx)("input",{type:"text",name:"address",className:"w-full px-0 py-1 text-sm border-0 border-b-2 border-black focus:ring-0 focus:border-b-harpie",placeholder:"Address (required)",value:f,onChange:function(e){return g(e.currentTarget.value)}}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(B.Z,{position:"tc",tooltip:(0,l.jsx)("p",{className:"px-2 py-1 text-xs text-white min-w-max bg-black/80",children:"cancel"}),children:(0,l.jsx)("button",{onClick:n,type:"button",className:"flex items-center justify-center p-1 bg-gray-100 rounded-full cursor-pointer",children:(0,l.jsx)(x.G,{icon:h.g82,className:"w-4 h-4 text-red-600"})})}),(0,l.jsx)(B.Z,{position:"tr",tooltip:(0,l.jsx)("p",{className:"px-2 py-1 text-xs text-white min-w-max bg-black/80",children:"confirm"}),children:(0,l.jsx)("button",{disabled:!f,type:"submit",className:"flex items-center justify-center p-1 bg-gray-100 rounded-full cursor-pointer",children:(0,l.jsx)(x.G,{icon:h.LEp,className:j()("w-4 h-4",f?"text-green-600":"text-gray-600")})})})]})]})]})}function ea(e){var t=e.address,s=e.name,a=e.onConfirm,n=e.open,r=e.setOpen,i=function(e){e.preventDefault(),a(),r(!1)};return(0,l.jsx)(L.Z,{open:n,children:(0,l.jsx)("div",{className:"inline-block max-w-xl px-4 pt-5 pb-4 overflow-hidden text-left align-bottom transition-all bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:w-full sm:p-8",children:(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"mt-3 sm:mt-5",children:[(0,l.jsxs)("h3",{className:"max-w-3xl text-xl font-bold leading-6 text-gray-900",children:["Delete Friend: ",(0,I.W)(s)]}),(0,l.jsxs)("p",{className:"mt-4",children:["This will delete address:",(0,l.jsx)("br",{}),t,(0,l.jsx)("br",{}),"from your whitelist. Any approvals or withdrawals with this destination will be stopped by your Harpie front runner."]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-40 mt-5",children:[(0,l.jsx)(H.Z,{secondary:!0,onClick:function(){return r(!1)},children:"Cancel"}),(0,l.jsx)(H.Z,{secondary:!1,color:"red",onClick:i,children:"Delete"})]})]})})})})}function en(e){var t,s=e.customAddress,n=e.chain,i=e.editAddress,o=e.removeAddress,c=e.isReadOnly,d=(0,u.useState)(!1),m=d[0],p=d[1],f=(0,u.useState)(!1),g=f[0],j=f[1];return g?(0,l.jsx)(es,{onSubmit:(t=(0,a.Z)(function(e,t){return(0,r.__generator)(this,function(a){switch(a.label){case 0:return[4,i(s,e,t)];case 1:return a.sent(),j(!1),[2]}})}),function(e,s){return t.apply(this,arguments)}),onCancel:function(){return j(!1)},initialName:s.name,initialAddress:s.address}):(0,l.jsxs)("div",{className:"grid items-center grid-cols-4 px-4 py-6 overflow-x-auto group hover:bg-gray-50",children:[(0,l.jsx)("h3",{className:"col-span-1 py-1 mr-2 border-b-2 border-transparent",children:c?"-HIDDEN-":(0,I.W)(s.name)}),(0,l.jsxs)("div",{className:"flex items-center justify-between col-span-3 py-[0.12rem] border-b-2 border-transparent gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-start gap-2",children:[(0,l.jsx)(et.Z,{textToCopy:s.address,className:"tracking-wide",children:(0,l.jsx)("h3",{children:s.address})}),(0,l.jsx)(B.Z,{position:"tc",tooltip:(0,l.jsx)("p",{className:"px-2 py-1 text-xs text-white min-w-max bg-black/80",children:"view on etherscan"}),children:(0,l.jsx)(_(),{href:"".concat(n.etherscanUrl,"/address/").concat(s.address),children:(0,l.jsx)("a",{target:"_blank",rel:"noreferrer",className:"flex items-center justify-center p-1 bg-gray-100 rounded-full",children:(0,l.jsx)(x.G,{icon:h.wlW,className:"w-4 h-4"})})})})]}),!c&&(0,l.jsxs)("div",{className:"items-center hidden gap-2 group-hover:flex",children:[(0,l.jsx)(B.Z,{position:"tc",tooltip:(0,l.jsx)("p",{className:"px-2 py-1 text-xs text-white min-w-max bg-black/80",children:"edit entry"}),children:(0,l.jsx)("button",{onClick:function(){return j(!0)},className:"flex items-center justify-center p-1 bg-gray-100 rounded-full",children:(0,l.jsx)(x.G,{icon:h.TzT,className:"w-4 h-4"})})}),(0,l.jsx)(B.Z,{position:"tr",tooltip:(0,l.jsx)("p",{className:"px-2 py-1 text-xs text-white min-w-max bg-black/80",children:"delete entry"}),children:(0,l.jsx)("button",{onClick:function(){return p(!0)},className:"flex items-center justify-center p-1 bg-gray-100 rounded-full",children:(0,l.jsx)(x.G,{icon:h.$aW,className:"w-4 h-4 text-red-600"})})}),(0,l.jsx)(ea,{address:s.address,name:s.name,onConfirm:function(){return o(s.address)},open:m,setOpen:p})]})]})]})}function er(e){var t,s=e.trustedFriends,n=e.chain,i=e.addAddress,o=e.editAddress,c=e.removeAddress,d=e.isReadOnly,m=(0,u.useState)(!1),p=m[0],f=m[1];return(0,l.jsx)("div",{className:"flex items-start gap-8 overflow-auto text-sm rounded-md max-h-96",children:(0,l.jsxs)("div",{className:"flex flex-col flex-grow border-[1px] border-gray-200",children:[(0,l.jsxs)("header",{className:"grid grid-cols-4 gap-4 p-4 bg-gray-200",children:[(0,l.jsx)("div",{className:"col-span-1 font-semibold text-gray-600 uppercase text-start",children:"Name"}),(0,l.jsx)("div",{className:"col-span-3 font-semibold text-gray-600 uppercase text-start",children:"Address"})]}),(0,l.jsxs)("div",{className:"flex flex-col flex-grow overflow-x-visible overflow-y-scroll auto-rows-max",children:[s.map(function(e){return(0,l.jsx)(en,{customAddress:e,chain:n,editAddress:o,removeAddress:c,isReadOnly:d},e.address)}),!p&&(0,l.jsx)("button",{onClick:d?function(){}:function(){return f(!0)},disabled:d,className:j()("p-2 m-2 mx-auto w-max hover:underline",d&&"text-gray-300 cursor-not-allowed",!d&&"text-harpie"),children:"+ add friend"}),!d&&p&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(es,{onSubmit:d?function(){}:(t=(0,a.Z)(function(e,t){return(0,r.__generator)(this,function(s){switch(s.label){case 0:return[4,i(e,t)];case 1:return s.sent(),f(!1),[2]}})}),function(e,s){return t.apply(this,arguments)}),onCancel:function(){return f(!1)}}),(0,l.jsx)("div",{className:"p-4 mx-auto text-gray-600 w-120",children:(0,l.jsxs)("p",{className:"text-center",children:["by clicking"," ",(0,l.jsx)("span",{className:"inline-flex items-center justify-center p-1 bg-gray-100 rounded-full",children:(0,l.jsx)(x.G,{icon:h.LEp,className:"w-3 h-3 text-green-600"})})," ","you confirm that you understand the risks involved with adding a friend to your trusted network.",(0,l.jsx)(_(),{href:"https://harpie.gitbook.io/welcome-to-the-harpie-docs/guides/getting-started/basics/what-is-a-trusted-network#youre-able-to-add-custom-addresses-to-your-trusted-network-but-proceed-with-caution",children:(0,l.jsxs)("a",{target:"_blank",rel:"noreferrer",children:[" ",(0,l.jsx)("span",{className:"underline",children:"more info"})," ",(0,l.jsx)("span",{className:"inline-flex items-center justify-center p-1 bg-gray-100 rounded-full",children:(0,l.jsx)(x.G,{icon:h.wlW,className:"w-3 h-3"})})]})})]})})]})]})]})})}var el=s(96074),ei=s(30245),eo=s(85582),ec=s(99214),ed=s(90576),eu=s(18702);function ex(){var e,t,s,i,o=(0,A.Z)().signer,c=(0,u.useContext)(d.G),x=c.dashboardId,h=c.chain,m=c.isReadOnly,p=c.transactions,f=c.trustedApps,g=c.trustedAddresses,j=c.refetch,b=c.pushError,v=(0,u.useState)(f),w=v[0],y=v[1],N=(0,u.useState)(g),k=N[0],T=N[1],S=(0,u.useMemo)(function(){return k.filter(function(e){return!e.isAppAddress})},[k]),E=(0,u.useState)([]),R=E[0],_=E[1],O=(0,u.useState)(!1),D=O[0],F=O[1],W=R.length>0,M=(0,n.Z)((0,ee.t)(ei.Ig),1)[0],L=(0,n.Z)((0,V.D)(z.AV),1)[0],P=(0,n.Z)((0,V.D)(z.x1),1)[0],G=(e=(0,a.Z)(function(e,t){var s,a,n,l,i,c,d,u,m,f,g;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,M({variables:{subject:x},fetchPolicy:"network-only"})];case 1:return m=r.sent().data,[4,(0,eo.f)(null==m?void 0:m.trustedNetworkToken,ec.Ov,e,t,h.id,o)];case 2:return f=r.sent(),[4,L({variables:{dashboardId:x,chainId:h.id,jwt:{sub:x,exp:null===(s=m.trustedNetworkToken)||void 0===s?void 0:s.exp,iat:null===(a=m.trustedNetworkToken)||void 0===a?void 0:a.iat,signature:f},trustedApps:e,trustedAddresses:t},context:{headers:{authorization:"Bearer ".concat(null===(n=m.trustedNetworkToken)||void 0===n?void 0:n.signature)}}})];case 3:return g=r.sent().data,[4,p.create(Z.i.SET_TRUSTED_NETWORK,Z.L.SUCCESS,{added:null===(l=g.setTrustedNetwork)||void 0===l?void 0:l.added,removed:null===(i=g.setTrustedNetwork)||void 0===i?void 0:i.removed})];case 4:return r.sent(),P({variables:{dashboardId:x,chainId:h.id,dateTime:new Date().toDateString(),added:null===(c=g.setTrustedNetwork)||void 0===c?void 0:c.added.map(function(e){return e.name}).join(", "),removed:null===(d=g.setTrustedNetwork)||void 0===d?void 0:d.removed.map(function(e){return e.name}).join(", ")}}),[2]}})}),function(t,s){return e.apply(this,arguments)}),U=function(){_([]),y(f),T(g)},q=(t=(0,a.Z)(function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:F(!0),t.label=1;case 1:return t.trys.push([1,4,,5]),[4,G(w,k.filter(function(e){return!e.isAppAddress}))];case 2:return t.sent(),[4,j()];case 3:return t.sent(),_([]),[3,5];case 4:return e=t.sent(),console.log(e),b(e),[3,5];case 5:return F(!1),[2]}})}),function(){return t.apply(this,arguments)}),B=(s=(0,a.Z)(function(e,t){var s,a,n;return(0,r.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,eu.Dq.validate(e)];case 1:return s=n.sent(),[4,eu.nV.validate(""!==t?t:e)];case 2:if(a=n.sent(),k.map(function(e){return e.address}).includes(e))throw Error("Your Trusted Network already includes this address!");return T(k.concat({address:s,name:a})),_(R.concat("Added ".concat((0,I.W)(a)," to Friends"))),[3,4];case 3:return b(n.sent()),[3,4];case 4:return[2]}})}),function(e,t){return s.apply(this,arguments)}),Y=(i=(0,a.Z)(function(e,t,s){var a,n,l;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,eu.Dq.validate(t)];case 1:return a=r.sent(),[4,eu.nV.validate(""!==s?s:t)];case 2:if(n=r.sent(),e.address!==t&&k.map(function(e){return e.address}).includes(t))throw Error("Your Trusted Network already includes this address!");return T(k.filter(function(t){return t.address!==e.address&&t.name!==e.name}).concat({address:a,name:n})),_(R.concat("Edited ".concat((0,I.W)(n)))),[3,4];case 3:return b(r.sent()),[3,4];case 4:return[2]}})}),function(e,t,s){return i.apply(this,arguments)}),Q=function(e){T(k.filter(function(t){return t.address!==e})),_(R.concat("Removed address ".concat((0,I.W)(e)," from Friends")))},J=function(e){y(w.concat(e)),_(R.concat("Added ".concat(e," to Trusted Apps")))},K=function(e){y(w.filter(function(t){return t!==e})),_(R.concat("Removed ".concat(e," from Trusted Apps")))},$=function(e){var t=(0,ed.ML)(h.id)[e].map(function(e){return e.name});y(w.filter(function(e){return!t.includes(e)}).concat(t)),_(R.concat("Added category ".concat(e," to Trusted Apps")))},X=function(e){var t=(0,ed.ML)(h.id)[e].map(function(e){return e.name});y(w.filter(function(e){return!t.includes(e)})),_(R.concat("Removed category ".concat(e," from Trusted Apps")))};return(0,u.useEffect)(function(){1===R.length&&alert("You are editing your trusted network. Make sure to save your changes before navigating away from this page or your changes will be discarded.")},[R.length]),(0,l.jsxs)("div",{className:"relative flex flex-col w-full gap-8 p-8 bg-white rounded-lg",children:[R.length>0&&(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-3xl font-display",children:"Change Log"}),(0,l.jsxs)("div",{className:"items-center justify-center hidden gap-2 lg:flex",children:[(0,l.jsx)(H.Z,{secondary:!0,onClick:U,color:"red",children:"Discard Changes"}),(0,l.jsx)(H.Z,{onClick:q,disabled:D||m,color:"green",children:"Confirm Changes"})]})]}),(0,l.jsx)("div",{className:"h-48 p-4 overflow-auto border-[1px] border-black",children:R.map(function(e,t){return(0,l.jsx)("p",{children:e},t+e)})}),(0,l.jsxs)("div",{className:"flex items-center justify-between gap-2 lg:hidden",children:[(0,l.jsx)(H.Z,{secondary:!0,onClick:U,color:"red",children:"Discard Changes"}),(0,l.jsx)(H.Z,{onClick:q,disabled:D||m,color:"green",children:"Confirm Changes"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("h2",{className:"text-3xl font-display",children:["Friends (",S.length,")"]}),(0,l.jsx)(er,{trustedFriends:S,chain:h,addAddress:B,editAddress:Y,removeAddress:Q,isReadOnly:m})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("h2",{className:"text-3xl font-display",children:["Trusted Apps (",w.length,")"]}),(0,l.jsx)("div",{className:"py-4 px-2 overflow-auto border-[1px] border-gray-300 rounded-md h-96",children:(0,l.jsx)(el.Z,{trustedApps:w,chainId:h.id,addApp:J,removeApp:K,addCategory:$,removeCategory:X,isReadOnly:m,sortSelectedToTop:!0,isUpdating:W})})]}),(0,l.jsx)(C.Z,{open:D,children:"Signature signing allows us to verify that you are the owner of this wallet. You will be returned to your dashboard after signing."})]})}var eh=s(29815),em=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December",][e]},ep=function(e){var t=(0,n.Z)(e.split(":"),2),s=t[0],a=t[1],r=parseInt(s,10),l="";return r>0&&r<=12?l+=s:r>12?l+=(r-12).toString():0===r&&(l+="12"),l+=":".concat(a),l+=r<12?"am":"pm"},ef=function(e,t){return t.some(function(t){return null==t?void 0:t.toLowerCase().includes(null==e?void 0:e.toLowerCase())})},eg=s(94845),ej=s(2905),eb=s(26042),ev=s(69396),ew=s(4564),ey=s(68163),eN=s(19485);function ek(e){var t,s=e.transactions,a=e.updateTransaction,n=e.chain,r=e.historical,i=e.open,o=e.setOpen,c=(0,u.useState)(!1),d=c[0],x=c[1],h=(0,u.useState)(0),m=h[0],p=h[1],f=s[m],g=(0,u.useMemo)(function(){return 0!==s.length?ed.Vr.filter(function(e){return e.chainId===n.id}).find(function(e){return e.addresses.some(function(e){return e.address===eN.getAddress(f.payload.maliciousAddress)})}):null},[n.id,f,s]),j=g?g.name:null==f?void 0:null===(t=f.payload)||void 0===t?void 0:t.maliciousAddress;return((0,u.useEffect)(function(){r||o(!0)},[r,o,s]),0===s.length)?null:(0,l.jsx)(L.Z,{open:i,children:(0,l.jsxs)("div",{className:"relative inline-block max-w-2xl px-4 pt-5 pb-4 overflow-hidden text-left text-gray-900 align-bottom transition-all bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:w-full sm:p-8",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-8 mt-3 sm:mt-5",children:[(0,l.jsx)("h3",{className:"max-w-3xl text-2xl font-bold leading-6 text-center text-gray-900 font-display",children:"Unauthorized Transaction Blocked"}),(0,l.jsx)("p",{className:"max-w-sm mx-auto -mt-4 font-sans text-sm text-center",children:"Our anti-theft systems have successfully stopped an unauthorized transaction on your account."}),(0,l.jsxs)("div",{className:"grid grid-cols-3 grid-rows-2 gap-4 font-mono text-sm",children:[(0,l.jsxs)("div",{className:"flex flex-col col-span-1 row-span-2 gap-1",children:[(0,l.jsx)("h4",{children:"Recovered Asset"}),(0,l.jsxs)("div",{className:"rounded-md bg-[#D9DDEA] flex items-center flex-col grow justify-center gap-2 p-2",children:[(0,l.jsx)("div",{className:"relative w-12 h-12",children:(0,l.jsx)(v(),{src:f.payload.tokenMetadata.avatar,alt:f.payload.tokenMetadata.name,layout:"fill",unoptimized:!0,objectFit:"cover",className:"rounded-full"})}),(0,l.jsx)("h4",{children:f.payload.tokenMetadata.symbol}),(0,l.jsxs)("a",{className:"flex gap-2 text-xs",href:"".concat(n.etherscanUrl,"/token/").concat(f.payload.tokenMetadata.address),target:"_blank",rel:"noreferrer",children:[(0,l.jsx)("p",{children:(0,I.W)(f.payload.tokenMetadata.address)}),(0,l.jsx)(ew.Z,{className:"w-4 h-4 p-0.5 bg-white rounded-full"})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col col-span-2 row-span-1 gap-1",children:[(0,l.jsx)("h4",{children:"Reason for Blocking Transaction"}),(0,l.jsx)("div",{className:"rounded-md bg-[#D9DDEA] px-2 py-4",children:(0,l.jsxs)("p",{className:"text-xs",children:[(0,l.jsx)("strong",{children:(0,I.W)(j)})," is not in your trusted network."]})})]}),(0,l.jsxs)("div",{className:"flex flex-col col-span-1 row-span-1 gap-1",children:[(0,l.jsx)("h4",{children:"Asset Status"}),(0,l.jsxs)("div",{className:"rounded-md bg-[#D9DDEA] px-2 py-4 flex gap-2 items-center",children:[(0,l.jsx)("p",{className:"text-xs",children:"Secure in Vault"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"flex items-center justify-center w-3 h-3 bg-green-400 rounded-full opacity-10 animate-pulse"}),(0,l.jsx)("div",{className:"bg-green-400 absolute inset-0.5 w-2 h-2 rounded-full"})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col col-span-1 row-span-1 gap-1",children:[(0,l.jsx)("h4",{children:"Time of Attempt"}),(0,l.jsx)("div",{className:"rounded-md bg-[#D9DDEA] px-2 py-4",children:(0,l.jsx)("p",{className:"text-xs",children:"9:42PM EST, Nov 30 2022"})})]})]}),(0,l.jsxs)("div",{className:"flex items-end justify-between",children:[(0,l.jsxs)("button",{className:"p-1 -ml-1 hover:bg-gray-100 hover:rounded-md",onClick:function(){return x(!d)},children:[(0,l.jsx)("span",{className:"underline",children:"I'm confused and need help"}),(0,l.jsx)("span",{className:"pl-1 m-auto text-xs text-center",children:d?"▼":"►"})]}),!r&&(0,l.jsxs)("div",{className:"flex gap-1",children:[m>0&&(0,l.jsx)(H.Z,{onClick:function(){return p(m-1)},type:"button",className:"rounded-md",children:"<-"}),m!==s.length-1?(0,l.jsx)(H.Z,{onClick:function(){return p(m+1)},type:"button",className:"rounded-md",children:"->"}):(0,l.jsx)(H.Z,{onClick:function(){o(!1),s.forEach(function(e){a(e.id,Z.i.FRONTRUN_ATTEMPT,Z.L.SUCCESS,(0,ev.Z)((0,eb.Z)({},e.payload),{wasSeen:!0}))})},type:"button",className:"rounded-md",children:"Retrieve your assets ->"})]})]}),(0,l.jsx)("div",{className:"w-full p-2 my-1 rounded-md bg-orange-50",hidden:!d,children:(0,l.jsxs)("div",{className:"flex flex-col gap-2 p-2 text-sm",children:[(0,l.jsx)("p",{children:"Harpie protects your assets from theft, scams, hacks, or accidental transfers by blocking transactions with wallet addresses which are not in your trusted network."}),(0,l.jsx)("p",{children:(0,l.jsxs)("strong",{children:["If this was a mistake, go to your Harpie dashboard to add"," ",(0,I.W)(j)," to your trusted network."]})}),(0,l.jsx)("p",{children:"We're sorry if this was an inconvenience. Even if this was a mistake, having Harpie can help you avoid theft."})]})})]}),r&&(0,l.jsx)("button",{type:"button",className:"absolute top-4 right-4",onClick:function(){return o(!1)},children:(0,l.jsx)(ey.Z,{className:"w-6 h-6 text-black hover:text-harpie"})})]})})}function eC(e){var t,s=e.transaction,a=(0,u.useContext)(d.G),n=a.chain,r=a.transactions,i=a.isReadOnly,o=(0,u.useState)(!1),c=o[0],m=o[1],p=(0,u.useState)(!1),g=p[0],j=p[1],b=(0,u.useState)(!1),w=b[0],y=b[1],N=s.type.split("_").map(function(e){return e.at(0)+e.slice(1).toLowerCase()}).join(" "),k=new Date(parseInt(s.createdAt)),C=em(k.getMonth()),T=k.getDate(),S=ep("".concat(k.getHours(),":").concat(10>k.getMinutes()?"0"+k.getMinutes():k.getMinutes())),A="".concat(C," ").concat(T," ").concat(S),E=null,R="",O=s.status.at(0)+s.status.slice(1).toLowerCase(),D="yellow";s.status===Z.L.SUCCESS?D="green":s.status===Z.L.FAIL&&(D="red");var F="",M="",H=null,L=null,P="",G=[],U=function(e){var t=e.src;return"".concat(t)};switch((0,u.useEffect)(function(){m(!1),j(!1),(null==H?void 0:H.length)<5&&m(!0),(null==L?void 0:L.length)<5&&j(!0)},[H,L]),s.type){case Z.i.PROTECTION:eg.Z,E=s.payload.tokenMetadata,F=s.payload.tokenMetadata.address,M="To: ".concat((0,I.W)(s.payload.tokenMetadata.address)),P=s.payload.txHash;break;case Z.i.REVOKE:eg.Z,N="Revoke Protection",E=s.payload.tokenMetadata,F=s.payload.tokenMetadata.address,M="To: ".concat((0,I.W)(s.payload.tokenMetadata.address)),P=s.payload.txHash;break;case Z.i.FRONTRUN_ATTEMPT:eg.Z,N="Recovery Attempt",E=s.payload.tokenMetadata,G=s.payload.tokenIds.map(function(e,t){return"#".concat((0,I.W)(e)).concat(t!==s.payload.tokenIds.length-1?", ":"")}),R=s.payload.quantity,F=s.payload.vaultAddress,M="To: ".concat((0,I.W)(s.payload.vaultAddress)),P=s.payload.txHash;break;case Z.i.VAULT_WITHDRAWAL:eg.Z,E=s.payload.tokenMetadata,G=["#".concat(s.payload.tokenId)],R=s.payload.quantity,F=s.payload.withdrawalAddress,M="To: ".concat((0,I.W)(s.payload.withdrawalAddress)),P=s.payload.txHash;break;case Z.i.SET_TRUSTED_NETWORK:eg.Z,H=s.payload.added,L=s.payload.removed;break;case Z.i.CHANGE_WITHDRAWER:eg.Z,F=s.payload.new,M="To: ".concat((0,I.W)(s.payload.new)),P=s.payload.txHash}return(0,l.jsxs)("div",{className:"grid grid-cols-9 col-span-4 gap-4 p-4 border-t-2",children:[s.type===Z.i.FRONTRUN_ATTEMPT&&(0,l.jsx)(ek,{transactions:[s],updateTransaction:r.update,chain:n,historical:!0,open:w,setOpen:y}),(0,l.jsxs)("div",{className:"flex items-center justify-start col-span-2 gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"",children:N}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:A})]}),s.type===Z.i.FRONTRUN_ATTEMPT&&(0,l.jsx)("button",{onClick:function(){return y(!0)},children:(0,l.jsx)(ej.Z,{className:"w-4 h-4"})})]}),(0,l.jsx)("div",{className:"flex items-center col-span-2 gap-2 text-start",children:null!=E&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"relative w-8 h-8 pr-8",children:(0,l.jsx)(v(),{loader:U,unoptimized:!0,src:E.avatar,alt:E.name,layout:"fill",objectFit:"cover"})}),(0,l.jsx)("h3",{children:E.type===W.TokenType.ERC20?(0,l.jsxs)(l.Fragment,{children:[R&&(0,I.U)(R,4)," ",E.symbol]}):(0,l.jsxs)(l.Fragment,{children:[E.symbol," ",G.length>0&&G]})})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-start col-span-1 gap-2",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"bg-".concat(D,"-400 opacity-10 w-3 h-3 rounded-full flex items-center justify-center -z-10")}),(0,l.jsx)("div",{className:"bg-".concat(D,"-400 absolute inset-0.5 w-2 h-2 rounded-full z-10")})]}),(0,l.jsx)("h3",{children:O})]}),(0,l.jsx)("div",{className:"flex items-center justify-end col-span-2",children:M?(0,l.jsx)(et.Z,{textToCopy:F,children:(0,l.jsx)("h3",{children:M})}):(0,l.jsxs)("div",{className:"flex flex-col gap-2 ml-4 mr-auto",children:[(null==H?void 0:H.length)>0&&(0,l.jsxs)("div",{className:"flex flex-col ",children:[(0,l.jsxs)("div",{className:"flex items-center col-span-1 gap-2 font-semibold cursor-pointer",onClick:function(){return m(!c)},children:[(0,l.jsxs)("h3",{children:["Added ",H.length," "]}),c?(0,l.jsx)(f.E0f,{}):(0,l.jsx)(f.IAR,{})]}),c&&H.map(function(e){var s,a,n;return e.isApp?(0,l.jsx)("h4",{className:"ml-1",children:(0,I.W)(e.name,20,4,4)},(0,I.W)(e.name,20,4,4)):(0,l.jsxs)(et.Z,{textToCopy:null==e?void 0:null===(s=e.customAddressInfo)||void 0===s?void 0:s.address,className:"flex flex-col w-full ml-1",children:[(0,l.jsx)("h4",{children:i?"--HIDDEN--":(0,I.W)(e.name,20,4,4)}),(0,l.jsx)("p",{className:"text-gray-500",children:(0,I.W)(null!==(t=null==e?void 0:null===(a=e.customAddressInfo)||void 0===a?void 0:a.address)&&void 0!==t?t:"")})]},null==e?void 0:null===(n=e.customAddressInfo)||void 0===n?void 0:n.address)})]}),(null==L?void 0:L.length)>0&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center col-span-1 gap-2 font-semibold cursor-pointer",onClick:function(){return j(!g)},children:[(0,l.jsxs)("h3",{onClick:function(){return j(!g)},children:["Removed ",L.length]}),g?(0,l.jsx)(f.E0f,{}):(0,l.jsx)(f.IAR,{})]}),g&&L.map(function(e){return e.isApp?(0,l.jsx)("h4",{className:"ml-1",children:(0,I.W)(e.name,20,4,4)},(0,I.W)(e.name,20,4,4)):(0,l.jsxs)(et.Z,{textToCopy:null==e?void 0:e.customAddressInfo.address,className:"flex flex-col w-full ml-1",children:[(0,l.jsx)("h4",{children:i?"--HIDDEN--":(0,I.W)(e.name,20,4,4)}),(0,l.jsx)("p",{className:"text-gray-500",children:(0,I.W)(null==e?void 0:e.customAddressInfo.address)})]},null==e?void 0:e.customAddressInfo.address)})]})]})}),(0,l.jsx)("div",{className:"flex items-center justify-end col-span-2",children:P&&(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,l.jsx)(et.Z,{textToCopy:P,children:(0,l.jsx)("h3",{children:(0,I.W)(P)})}),(0,l.jsx)(B.Z,{position:"tr",tooltip:(0,l.jsx)("p",{className:"px-2 py-1 text-xs text-white min-w-max bg-black/80",children:"view on etherscan"}),children:(0,l.jsx)(_(),{href:"".concat(n.etherscanUrl,"/tx/").concat(P),children:(0,l.jsx)("a",{target:"_blank",rel:"noreferrer",className:"flex items-center justify-center p-1 bg-gray-100 rounded-full",children:(0,l.jsx)(x.G,{icon:h.wlW,className:"w-4 h-4"})})})})]})})]})}function eT(e){var t=e.transactions,s=e.expanded,a=(0,u.useState)(""),r=a[0],i=a[1];(0,u.useEffect)(function(){return i("")},[s]);var o=(0,u.useMemo)(function(){return t.filter(function(e){if(ef(r,[e.id,e.type,e.status]))return!0;switch(e.type){case Z.i.PROTECTION:case Z.i.REVOKE:return ef(r,[e.payload.txHash,e.payload.tokenMetadata.name,e.payload.tokenMetadata.address,e.payload.tokenMetadata.symbol,]);case Z.i.FRONTRUN_ATTEMPT:return ef(r,[e.payload.txHash,e.payload.tokenMetadata.name,e.payload.tokenMetadata.address,e.payload.tokenMetadata.symbol,e.payload.vaultAddress,].concat((0,eh.Z)(e.payload.tokenIds)));case Z.i.VAULT_WITHDRAWAL:return ef(r,[e.payload.txHash,e.payload.tokenMetadata.name,e.payload.tokenMetadata.address,e.payload.tokenMetadata.symbol,e.payload.tokenId,e.payload.vaultAddress,e.payload.withdrawalAddress,]);case Z.i.SET_TRUSTED_NETWORK:var t,s,a,n,l,i;return ef(r,(0,eh.Z)(e.payload.added.map(function(e){return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""})).concat((0,eh.Z)(e.payload.added.map(function(e){var t;return null!==(s=null==e?void 0:null===(t=e.customAddressInfo)||void 0===t?void 0:t.address)&&void 0!==s?s:""})),(0,eh.Z)(e.payload.added.map(function(e){var t;return null!==(a=null==e?void 0:null===(t=e.customAddressInfo)||void 0===t?void 0:t.name)&&void 0!==a?a:""})),(0,eh.Z)(e.payload.removed.map(function(e){return null!==(n=null==e?void 0:e.name)&&void 0!==n?n:""})),(0,eh.Z)(e.payload.removed.map(function(e){var t;return null!==(l=null==e?void 0:null===(t=e.customAddressInfo)||void 0===t?void 0:t.address)&&void 0!==l?l:""})),(0,eh.Z)(e.payload.removed.map(function(e){var t;return null!==(i=null==e?void 0:null===(t=e.customAddressInfo)||void 0===t?void 0:t.name)&&void 0!==i?i:""}))));case Z.i.CHANGE_WITHDRAWER:return ef(r,[e.payload.txHash,e.payload.old,e.payload.new,])}})},[r,t]),c=(0,u.useMemo)(function(){return o.reduce(function(e,t){var s=new Date(parseInt(t.createdAt)),a=s.getFullYear(),n=em(s.getMonth()),r=s.getDate(),l="".concat(n," ").concat(r,", ").concat(a);return e.has(l)?(e.get(l).push(t),new Map(e)):new Map(e.set(l,[t]))},new Map)},[o]);return(0,l.jsxs)(l.Fragment,{children:[s&&(0,l.jsxs)("div",{className:"relative self-start mb-4",children:[(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-6 pointer-events-none",children:(0,l.jsx)(m.Z,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})}),(0,l.jsx)("input",{type:"text",name:"assets-search",id:"assets-search",className:"block w-full py-2.5 pl-6 pr-14 mr-10 border-[1px] border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search for asset...",value:r,onChange:function(e){return i(e.currentTarget.value)}})]}),(0,l.jsxs)("div",{className:j()("flex flex-col flex-grow border-2 rounded-md border-gray-200",s?"overflow-auto text-sm max-h-[53vh]":"text-xs"),children:[(0,l.jsxs)("header",{className:"grid grid-cols-9 gap-4 p-4 bg-gray-200",children:[(0,l.jsx)("div",{className:"col-span-2 font-semibold text-gray-600 uppercase text-start",children:"Transaction"}),(0,l.jsx)("div",{className:"col-span-2 font-semibold text-gray-600 uppercase text-start",children:"Token"}),(0,l.jsx)("div",{className:"col-span-1 font-semibold text-gray-600 uppercase text-start",children:"Status"}),(0,l.jsx)("div",{className:"col-span-2 font-semibold text-gray-600 uppercase text-end",children:"Address"}),(0,l.jsx)("div",{className:"col-span-2 font-semibold text-gray-600 uppercase text-end",children:"Txn hash"})]}),(0,l.jsx)("div",{className:j()("flex flex-col flex-grow overflow-y-scroll auto-rows-max",!s&&"max-h-120"),children:(0,eh.Z)(c.entries()).map(function(e){var t=(0,n.Z)(e,2),s=t[0],a=t[1];return(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"flex items-center justify-between col-span-4 p-4 text-gray-500 bg-gray-100 border-t-2 border-gray-200",children:s}),a.map(function(e){return(0,l.jsx)(eC,{transaction:e},e.id)})]},s)})})]})]})}function eS(e){var t=e.onExpand,s=e.dashboardId,a=e.chainId,n=e.setAssetsTab,r=(0,u.useContext)(d.G).transactions,i=(0,u.useState)(!1),o=i[0],c=i[1];return(0,l.jsxs)("div",{className:o?"absolute inset-0 z-10 overflow-hidden mt-[5.6rem]":"",children:[o?(0,l.jsx)("style",{children:"\n        html, body {\n          overflow: hidden;\n        }\n      "}):"",o?(0,l.jsx)(L.Z,{open:o,children:(0,l.jsxs)("div",{className:"bg-white relative w-[94%] h-[82vh] overflow-hidden p-12 pr-16 rounded-xl inset-0 z-20 transition-all mt-[5.3rem]",children:[(0,l.jsx)("button",{className:"absolute top-4 right-4 cursor-pointer]",onClick:function(){c(!1),t(!o)},children:o?(0,l.jsx)(x.G,{icon:h.Qj4,className:"w-6 h-6 text-gray-400 hover:text-gray-600"}):(0,l.jsx)(x.G,{icon:h.TL5,className:"w-6 h-6 text-gray-400 hover:text-gray-600"})}),0!==r.data.length?(0,l.jsx)(eT,{transactions:r.data,expanded:o}):(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{children:"Welcome to Harpie!"}),(0,l.jsx)("div",{className:"relative w-40 h-40 mx-auto my-8",children:(0,l.jsx)(v(),{src:"/images/empty-search.png",alt:"No transactions",layout:"fill"})}),(0,l.jsxs)("p",{children:["Get started by protecting a ",(0,l.jsx)("span",{className:"cursor-pointer text-harpie",onClick:n,children:"token"}),", or see how we work with a ",(0,l.jsx)(_(),{href:"/app/dashboard/".concat(s,"/livetest/?chainId=").concat(a),children:(0,l.jsx)("a",{className:"text-harpie",children:"live test"})}),"."]})]})]})}):(0,l.jsxs)("div",{className:"relative flex flex-col w-full gap-4 p-12 bg-white",children:[(0,l.jsx)("button",{className:"absolute cursor-pointer top-4 right-4",onClick:function(){c(!o),t(!o)},children:o?(0,l.jsx)(x.G,{icon:h.Qj4,className:"w-6 h-6 text-gray-400 hover:text-gray-600"}):(0,l.jsx)(x.G,{icon:h.TL5,className:"w-6 h-6 text-gray-400 hover:text-gray-600"})}),(0,l.jsx)("div",{className:"flex items-end gap-4 pb-4"}),0!==r.data.length?(0,l.jsx)(eT,{transactions:r.data,expanded:o}):(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{children:"Welcome to Harpie!"}),(0,l.jsx)("div",{className:"relative w-40 h-40 mx-auto my-8",children:(0,l.jsx)(v(),{src:"/images/empty-search.png",alt:"No transactions",layout:"fill"})}),(0,l.jsxs)("p",{children:["Get started by protecting a ",(0,l.jsx)("span",{className:"cursor-pointer text-harpie",onClick:n,children:"token"}),", or see how we work with a ",(0,l.jsx)(_(),{href:"/app/dashboard/".concat(s,"/livetest/?chainId=").concat(a),children:(0,l.jsx)("a",{className:"text-harpie",children:"live test"})}),"."]})]})]})]})}var eA=s(96361),eE=s(22600),eZ=s(31607);function eI(e){var t,s=e.open,n=e.setOpen,i=(0,u.useContext)(d.G),o=i.dashboardId,c=i.transactions,x=i.withdrawalAddress,h=(0,u.useState)(""),m=h[0],p=h[1],f=(0,u.useState)(!1),g=f[0],j=f[1],b=(0,u.useState)(""),v=b[0],w=b[1],y=(0,A.Z)().address===o,N=(t=(0,a.Z)(function(e){var t,s,a,l,i,o;return(0,r.__generator)(this,function(s){switch(s.label){case 0:return j(!0),w(""),e.preventDefault(),t=x.data,[4,c.create(Z.i.CHANGE_WITHDRAWER,Z.L.PENDING,{old:t,new:m,txHash:""})];case 1:a=s.sent().data,s.label=2;case 2:return s.trys.push([2,6,,8]),w("Please wait for transaction to finish."),[4,eu.Dq.validate(m)];case 3:if((l=s.sent())==x.data)throw Error("This is your current withdrawal address!");return[4,x.change(x.data,l)];case 4:if(!(i=s.sent()))throw Error("Withdrawal Address change failed!");return[4,c.update(a.createTransaction.id,Z.i.CHANGE_WITHDRAWER,Z.L.SUCCESS,{old:t,new:m,txHash:i.transactionHash})];case 5:return s.sent(),j(!1),n(!1),[3,8];case 6:return o=s.sent(),console.error(o),w(o.message),[4,c.update(a.createTransaction.id,Z.i.CHANGE_WITHDRAWER,Z.L.FAIL)];case 7:return s.sent(),j(!1),[3,8];case 8:return[2]}})}),function(e){return t.apply(this,arguments)});return(0,u.useEffect)(function(){p(""),w(y?"":"You need be connected with wallet ".concat(o," to make changes to the withdrawal address."))},[o,y,s]),(0,l.jsx)(L.Z,{open:s,children:(0,l.jsx)("div",{className:"inline-block max-w-2xl px-4 pt-5 pb-4 overflow-hidden text-left text-black align-bottom transition-all bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:w-full sm:p-8",children:(0,l.jsxs)("div",{className:"mt-3 space-y-4 sm:mt-5",children:[(0,l.jsx)("h2",{className:"max-w-3xl mb-2 text-xl font-bold leading-6 text-center text-gray-900",children:"Enter Withdrawal Address"}),(0,l.jsxs)("p",{className:"font-sans",children:["Enter your desired withdrawal address."," ",(0,l.jsx)("span",{className:"font-sans font-bold",children:"We highly recommend one that is different than the wallet the tokens were originally in."})]}),(0,l.jsxs)("p",{className:"font-sans",children:["Upon clicking register, you will be asked to sign a signature request verifying ownership of your wallet. After accepting the signature request, please accept the transaction that appears in your wallet app."," "]}),(0,l.jsxs)("form",{onSubmit:N,className:"flex flex-col w-full gap-4",children:[(0,l.jsxs)("div",{hidden:!y,className:(v.includes("newAddress")?"border-red-300":"border-gray-300")+" relative px-3 py-4 my-4 border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600",children:[(0,l.jsxs)("label",{htmlFor:"address",className:"absolute inline-block px-1 -mt-px text-xs font-medium text-gray-900 bg-white -top-2 left-2",children:["Address ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("input",{type:"text",name:"address",className:"block w-full p-0 tracking-wide text-gray-900 placeholder-gray-500 border-0 focus:ring-0 sm:text-sm",placeholder:"Address",disabled:!y,value:m,onChange:function(e){return p(e.currentTarget.value)}})]}),v&&(0,l.jsx)("p",{className:"mt-1 mb-2 text-red-600",children:v}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-40",children:[(0,l.jsx)(H.Z,{secondary:!0,onClick:function(){return n(!1)},type:"button",disabled:g,children:"Cancel"}),(0,l.jsx)(H.Z,{secondary:!1,disabled:!m||!y||g,type:"submit",className:"flex items-center justify-center",children:g?(0,l.jsx)(eZ.Z,{type:"ThreeDots",color:"lightblue",height:"1.2rem",width:"1.2rem"}):"Register"})]})]})]})})})}function eR(e){var t=e.className;return(0,l.jsx)("span",{className:t,children:"Ξ"})}var e_=s(2593);function eO(e){var t=e.onConfirm,s=e.open,a=e.setOpen;return(0,l.jsx)(O.Z,{description:(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-center",children:"First Time: Setting up a Withdrawal Address"}),(0,l.jsxs)("div",{className:"grid items-start grid-cols-3 my-4",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,l.jsx)("p",{className:"flex items-center justify-center w-6 h-6 p-6 text-lg text-white rounded-full bg-harpie",children:"1"}),(0,l.jsx)("p",{className:"font-bold text-center",children:"Set Withdrawal Address"})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,l.jsx)("p",{className:"flex items-center justify-center w-6 h-6 p-6 text-lg text-white rounded-full bg-harpie",children:"2"}),(0,l.jsx)("p",{className:"font-bold text-center",children:"Withdraw Tokens"})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,l.jsx)("p",{className:"flex items-center justify-center w-6 h-6 p-6 text-lg text-white rounded-full bg-harpie",children:"3"}),(0,l.jsx)("p",{className:"font-bold text-center",children:"Done!"})]})]}),(0,l.jsxs)("p",{className:"font-sans",children:["On the next screen, you will provide a"," ",(0,l.jsx)("span",{className:"font-bold",children:"withdrawal address"})," so that your tokens can be securely returned into your possession from our security systems."]}),(0,l.jsxs)("p",{className:"font-sans",children:["This withdrawal address should be different than your current wallet as this wallet could be compromised. ",(0,l.jsx)("span",{className:"font-sans font-bold",children:"Your withdrawal address can be changed later."})]}),(0,l.jsxs)(D,{children:[(0,l.jsxs)("p",{className:"p-3 font-sans",children:["If your wallet gets attacked and you withdraw your assets back into the same wallet, your tokens and NFTs could still be at risk."," ",(0,l.jsx)(_(),{href:"https://harpie.gitbook.io/welcome-to-the-harpie-docs/guides/getting-started/basics/what-is-a-withdrawal-address",className:"relative",children:(0,l.jsxs)("a",{target:"_blank",rel:"noreferrer",className:"underline cursor-pointer text-harpie",children:["Learn about withdrawal address best practices",(0,l.jsx)(F.Z,{className:"inline w-4 h-4 mb-1"})]})})]}),(0,l.jsx)("p",{className:"p-3 font-sans",children:"This withdrawal wallet should be easily accessible to you. If you use MetaMask or a similar wallet provider, you can use another wallet or quickly create a new wallet and easily switch to it if needed in the future."})]})]}),onConfirm:void 0===t?function(){return console.log("confirmed")}:t,open:s,setOpen:a})}function eD(e){var t=e.token,s=e.tokenId,a=e.withdrawalFee,n=e.withdrawalAddress,r=e.canWithdraw,i=e.onConfirm,o=e.open,c=e.setOpen,d=function(e){var t=e.src;return"".concat(t)};return(0,l.jsx)(O.Z,{wide:!0,description:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-center",children:"Withdraw Token"}),(0,l.jsx)("p",{className:"font-sans",children:"You will withdraw the following token(s) to your withdrawal address."}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 p-4 border-[1px] rounded-lg shadow-sm shadow-[#ca2a00]/10 border-harpie max-w-min",children:[(0,l.jsx)("div",{className:"relative w-16 h-16 bg-white rounded-full",children:(0,l.jsx)(v(),{loader:d,unoptimized:!0,src:t.metadata.avatar,alt:t.metadata.name,layout:"fill",objectFit:"cover",className:"rounded-full"})}),(0,l.jsxs)("div",{className:"flex flex-col w-48 gap-2 bg-white",children:[(0,l.jsxs)("h4",{className:"text-lg font-bold text-center text-gray-900",children:[t.metadata.name," ",(0,I.W)(s)]}),(0,l.jsx)("hr",{className:"text-gray-200 border-t-0.1"}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("p",{className:"font-bold text-gray-400",children:"Quantity"}),(0,l.jsx)("p",{className:"font-bold text-gray-900",children:(0,I.U)(t.balance,8)})]}),t.metadata.type===p.iv.ERC721&&(0,l.jsxs)("div",{className:"text-sm text-right",children:[(0,l.jsx)("p",{className:"font-bold text-gray-400",children:"ID"}),(0,l.jsxs)("p",{className:"font-bold text-gray-900",children:["#",(0,I.W)(t.tokenId)]})]})]}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("p",{className:"font-bold text-gray-400",children:"Fee"}),(0,l.jsxs)("p",{className:"flex items-center gap-1 font-bold text-gray-900",children:[(0,I.U)(a,4)," ",(0,l.jsx)(eR,{className:"text-xs"})]})]})]})]}),!r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"self-start my-4 font-sans",children:["You've registered"," ",(0,l.jsx)("code",{className:"font-bold",children:(0,I.W)(n)})," as your withdrawal address. Please connect to this wallet now to withdraw your ",t.metadata.name,"."]}),(0,l.jsx)("div",{className:"items-start w-full text-left",children:(0,l.jsx)(D,{text:"More information",children:(0,l.jsxs)("div",{className:"flex flex-row gap-6 font-sans",children:[(0,l.jsxs)("ul",{className:"w-3/5 p-2 pl-4 space-y-1 text-sm list-disc list-inside ",role:"alert",children:[(0,l.jsxs)("p",{children:["Use your wallet provider to switch your wallet to your withdrawal address and wait until the prompt appears. The address in the header should say:"," ",(0,l.jsx)("code",{className:"font-bold",children:(0,I.W)(n)}),"."]}),(0,l.jsx)("br",{}),(0,l.jsxs)("p",{className:"pb-3",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Do not create a new Harpie dashboard for your withdrawal wallet."})," ","It may take up to a minute after switching wallets before you can withdraw your assets."]})]}),(0,l.jsx)("div",{className:"w-2/5 p-2",children:(0,l.jsx)("img",{src:"/images/withdraw-gif.gif",className:"rounded-sm"})})]})})})]})]}),onConfirm:void 0===i?function(){return console.log("confirmed")}:i,confirmButtonText:"Withdraw",confirmable:r,open:o,setOpen:c})}function eF(e){var t,s=e.open,n=e.setOpen,i=(0,u.useContext)(d.G),o=i.dashboardId,c=i.transactions,x=i.withdrawalAddress,h=(0,u.useState)(""),m=h[0],p=h[1],f=(0,u.useState)(!1),g=f[0],j=f[1],b=(0,u.useState)(""),v=b[0],w=b[1],y=(0,A.Z)().address===o,N=(t=(0,a.Z)(function(e){var t,s,a,l,i,o;return(0,r.__generator)(this,function(s){switch(s.label){case 0:return j(!0),w(""),e.preventDefault(),t=x.data,[4,c.create(Z.i.CHANGE_WITHDRAWER,Z.L.PENDING,{old:t,new:m,txHash:""})];case 1:a=s.sent().data,s.label=2;case 2:return s.trys.push([2,6,,8]),w("Please wait for transaction to finish."),[4,eu.Dq.validate(m)];case 3:return l=s.sent(),[4,x.register(l)];case 4:if(!(i=s.sent()))throw Error("Withdrawal Address registration failed!");return[4,c.update(a.createTransaction.id,Z.i.CHANGE_WITHDRAWER,Z.L.SUCCESS,{old:t,new:m,txHash:i.transactionHash})];case 5:return s.sent(),j(!1),n(!1),[3,8];case 6:return o=s.sent(),console.error(o),w(o.message),[4,c.update(a.createTransaction.id,Z.i.CHANGE_WITHDRAWER,Z.L.FAIL)];case 7:return s.sent(),j(!1),[3,8];case 8:return[2]}})}),function(e){return t.apply(this,arguments)});return(0,u.useEffect)(function(){p(""),w(y?"":"You need be connected with wallet ".concat(o," to make changes to the withdrawal address."))},[o,y,s]),(0,l.jsx)(L.Z,{open:s,children:(0,l.jsx)("div",{className:"inline-block max-w-xl px-4 pt-5 pb-4 overflow-hidden text-left text-black align-bottom transition-all bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:w-full sm:p-8",children:(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"mt-3 sm:mt-5",children:[(0,l.jsx)("h3",{className:"max-w-3xl mb-2 text-xl font-bold leading-6 text-gray-900",children:"Enter withdrawal address to register"}),(0,l.jsx)("p",{className:"font-sans",children:"Please accept the transaction that appears in your wallet app. Registering a withdrawal address will cost gas.\xa0"}),(0,l.jsxs)("form",{onSubmit:N,className:"flex flex-col w-full gap-4 mt-6",children:[(0,l.jsxs)("div",{hidden:!y,className:(v.includes("newAddress")?"border-red-300":"border-gray-300")+" relative px-3 py-4 mt-6 border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600",children:[(0,l.jsxs)("label",{htmlFor:"address",className:"absolute inline-block px-1 -mt-px text-xs font-medium text-gray-900 bg-white -top-2 left-2",children:["Address ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("input",{type:"text",name:"address",className:"block w-full p-0 tracking-wide text-gray-900 placeholder-gray-500 border-0 focus:ring-0 sm:text-sm",placeholder:"Address",disabled:!y,value:m,onChange:function(e){return p(e.currentTarget.value)}})]}),v&&(0,l.jsx)("p",{className:"mt-1 mb-2 text-red-600",children:v}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-40",children:[(0,l.jsx)(H.Z,{secondary:!0,onClick:function(){return n(!1)},type:"button",disabled:g,children:"Cancel"}),(0,l.jsx)(H.Z,{secondary:!1,disabled:!m||!y||g,type:"submit",className:"flex items-center justify-center",children:g?(0,l.jsx)(eZ.Z,{type:"ThreeDots",color:"lightblue",height:"1.2rem",width:"1.2rem"}):"Register"})]})]})]})})})})}function eW(e){var t=e.onConfirm,s=e.open,a=e.setOpen,n=e.setOpenChangeWithdraw,r=function(){a(!1),n(!0)};return(0,l.jsx)(O.Z,{description:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,l.jsxs)("svg",{className:"w-12 h-12 fill-current text-harpie",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,l.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})]}),(0,l.jsx)("h2",{className:"text-xl font-bold",children:"Warning"}),"Your recovery withdrawal address is the same as your wallet address. Moving your assets back to the same wallet could put them at risk.",(0,l.jsxs)("div",{children:["We recommend using"," ",(0,l.jsx)("a",{className:"text-harpie",href:"https://revoke.cash/",target:"_blank",rel:"noreferrer",children:"revoke.cash"})," ","or",(0,l.jsxs)("div",{className:"inline text-harpie cursor-pointer",onClick:r,children:[" ","changing your withdrawal address"," "]})," ","before proceeding. Need help? Please"," ",(0,l.jsx)("a",{className:"text-harpie",href:"https://harpie.gitbook.io/welcome-to-the-harpie-docs/guides/getting-started/faq/what-is-a-withdrawal-address#what-address-should-i-use",target:"_blank",rel:"noreferrer",children:"read our FAQ."})," "]})]}),onConfirm:t,confirmButtonText:"Withdraw",open:s,setOpen:a})}function eM(e){var t=e.token,s=e.dashboardId,i=(0,A.Z)(),o=i.signer,c=i.address,x=i.chain,h=(0,u.useContext)(d.G),m=h.provider,f=h.withdrawalAddress,g=h.transactions,j=h.tokens,b=h.pushError,w=h.chain,y=(0,u.useState)(!1),N=y[0],k=y[1],S=(0,u.useState)(!1),R=S[0],_=S[1],O=(0,u.useState)(!1),D=O[0],F=O[1],W=(0,u.useState)(!1),M=W[0],L=W[1],P=(0,u.useState)(!1),G=P[0],U=P[1],q=(0,u.useState)(!1),B=q[0],Y=q[1],Q=(0,u.useState)("0"),J=Q[0],K=Q[1],$=(0,u.useMemo)(function(){return m?(0,E.y0)(w.vaultAddress,m):null},[w,m]),X=(0,n.Z)((0,V.D)(z.hP),1)[0],ee=c===f.data&&w.id===(null==x?void 0:x.id),et=s===c,es=function(e){var t=e.src;return"".concat(t)};(0,u.useEffect)(function(){t.metadata.type===p.iv.ERC20&&$.provider?(0,E.w5)($,s,t.metadata.address).then(function(e){return K(T.formatEther(e).toString())}):t.metadata.type===p.iv.ERC721&&$.provider&&(0,E.M0)($,s,t.metadata.address,e_.O$.from(t.tokenId)).then(function(e){return K(T.formatEther(e).toString())})},[$]);var ea,en=function(){f.data?f.data&&!ee?_(!0):f.data&&ee&&_(!0):k(!0)},er=(ea=(0,a.Z)(function(){var e,a,n,l,i,c,d,u,x,h,m,p;return(0,r.__generator)(this,function(e){switch(e.label){case 0:if(!ee)return[2];return L(!0),[4,g.create(Z.i.VAULT_WITHDRAWAL,Z.L.PENDING,{tokenMetadata:t.metadata,quantity:t.balance,tokenId:t.tokenId,vaultAddress:w.vaultAddress,withdrawalAddress:f.data,withdrawalFee:"0",txHash:""})];case 1:a=e.sent().data,e.label=2;case 2:if(e.trys.push([2,16,,18]),"ERC721"!==t.metadata.type)return[3,8];return[4,(0,E.po)($,s,t.metadata.address,e_.O$.from(t.tokenId))];case 3:return n=e.sent(),[4,(0,E.M0)($,s,t.metadata.address,e_.O$.from(t.tokenId))];case 4:if(l=e.sent(),!n||!l)throw Error("Cannot withdraw token!");return[4,(0,E.mk)($,o,s,t.metadata.address,e_.O$.from(t.tokenId),e_.O$.from(l))];case 5:case 11:return[4,e.sent().wait()];case 6:return c=e.sent(),console.log(c),[4,g.update(a.createTransaction.id,Z.i.VAULT_WITHDRAWAL,Z.L.SUCCESS,{tokenMetadata:t.metadata,quantity:t.balance,tokenId:t.tokenId,vaultAddress:w.vaultAddress,withdrawalAddress:f.data,withdrawalFee:l,txHash:c.transactionHash})];case 7:return e.sent(),X({variables:{dashboardId:s,chainId:w.id,dateTime:new Date().toDateString(),tokenName:t.metadata.name,tokenAddress:t.metadata.address,tokenId:t.tokenId,withdrawalFee:J,withdrawalAddress:f.data}}),[3,14];case 8:return[4,(0,E.aC)($,s,t.metadata.address)];case 9:return d=e.sent(),[4,(0,E.w5)($,s,t.metadata.address)];case 10:if(u=e.sent(),!(x=parseFloat(T.formatEther(d.toString())))||!u)throw Error("Cannot withdraw token with value ".concat(x," and fee ").concat(u));return[4,(0,E.St)($,o,s,t.metadata.address,e_.O$.from(u))];case 12:return m=e.sent(),console.log(m),[4,g.update(a.createTransaction.id,Z.i.VAULT_WITHDRAWAL,Z.L.SUCCESS,{tokenMetadata:t.metadata,quantity:t.balance,tokenId:t.tokenId,vaultAddress:w.vaultAddress,withdrawalAddress:f.data,withdrawalFee:u,txHash:m.transactionHash})];case 13:e.sent(),X({variables:{dashboardId:s,chainId:w.id,dateTime:new Date().toDateString(),tokenName:t.metadata.name,tokenAddress:t.metadata.address,quantity:t.balance,withdrawalFee:J,withdrawalAddress:f.data}}),e.label=14;case 14:return[4,j.syncOne(j.data.find(function(e){return e.metadata.address===t.metadata.address}).metadata)];case 15:case 17:return e.sent(),[3,18];case 16:return p=e.sent(),console.error(p),b(Error("Could not withdraw ".concat(t.metadata.name))),[4,g.update(a.createTransaction.id,Z.i.VAULT_WITHDRAWAL,Z.L.FAIL)];case 18:return L(!1),[2]}})}),function(){return ea.apply(this,arguments)}),el=(null==t?void 0:t.tokenId)?"# ".concat(t.tokenId.toString().slice(0,5)+(t.tokenId.toString().length>=5?"...":"")):"";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(C.Z,{open:M,children:"You will return to the page after the transaction confirms."}),(0,l.jsxs)("div",{className:"relative flex justify-center mt-2",children:[(0,l.jsx)("div",{className:"absolute top-0 w-16 h-16 text-white -translate-y-8 bg-black rounded-full",children:(0,l.jsx)(v(),{loader:es,unoptimized:!0,src:t.metadata.avatar,alt:t.metadata.name,layout:"fill",objectFit:"cover",className:"rounded-full"})}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 p-4 pt-12 bg-white rounded-xl w-60",children:[(0,l.jsxs)("h4",{className:"text-lg font-bold text-center text-gray-700",children:[t.metadata.name," ",el]}),(0,l.jsx)("hr",{className:"text-gray-200 border-t-0.1"}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("p",{className:"font-bold text-gray-400",children:"Quantity"}),(0,l.jsx)("p",{className:"font-bold text-gray-900",children:(0,I.U)(t.balance,8)})]}),t.metadata.type===p.iv.ERC721&&(0,l.jsxs)("div",{className:"text-sm text-right",children:[(0,l.jsx)("p",{className:"font-bold text-gray-400",children:"ID"}),(0,l.jsxs)("p",{className:"font-bold text-gray-900",children:["#",(0,I.W)(el)]})]})]}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("p",{className:"font-bold text-gray-400",children:"Fee"}),(0,l.jsxs)("p",{className:"flex items-center gap-1 font-bold text-gray-900",children:[(0,I.U)(J,4)," ",(0,l.jsx)(eR,{className:"text-xs"})]})]}),(0,l.jsx)(H.Z,{className:"w-full mt-4",onClick:function(){return en()},children:"Withdraw"})]})]}),(0,l.jsx)(eD,{token:t,tokenId:el,withdrawalFee:J,withdrawalAddress:f.data,canWithdraw:ee,onConfirm:function(){return et?U(!0):er()},open:R,setOpen:_}),(0,l.jsx)(eO,{onConfirm:function(){return F(!0)},open:N,setOpen:k}),(0,l.jsx)(eW,{onConfirm:er,open:G,setOpen:U,setOpenChangeWithdraw:Y}),(0,l.jsx)(eI,{open:B,setOpen:Y}),(0,l.jsx)(eF,{open:D,setOpen:F})]})}function eH(){var e=(0,u.useContext)(d.G),t=e.tokens,s=e.dashboardId,a=e.withdrawalAddress,n=e.isReadOnly,r=(0,u.useState)(!1),i=r[0],o=r[1],c=(0,u.useState)(!1),x=c[0],h=c[1],m=(0,u.useState)(!1),f=m[0],g=m[1],j=t.data.filter(p.MX);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eI,{open:f,setOpen:g}),j.length>0&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex flex-col w-full gap-8 p-8 text-white bg-gray-900 border-[1px] shadow-sm shadow-[#ca2a00]/10 rounded-md border-harpie",children:[(0,l.jsx)("div",{className:"flex justify-between",children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,l.jsx)("div",{className:"flex items-center justify-center w-8 h-8 p-4 text-lg rounded-full animate-highlight bg-harpie",children:"!"}),(0,l.jsx)("p",{className:"text-lg font-bold",children:"Harpie stopped a theft attempt! Please withdraw your tokens to a safe address."})]})}),0!==j.length&&(0,l.jsx)("div",{className:"flex items-center justify-between pt-6 overflow-x-auto",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"flex gap-4",children:j.reduce(function(e,t){return t.metadata.type===p.iv.ERC20?e.concat({balance:T.formatUnits(t.vaultBalance,t.metadata.decimals),metadata:t.metadata}):t.metadata.type===p.iv.ERC721?e.concat(t.vaultIds.map(function(e){return{balance:"1",tokenId:e,metadata:t.metadata}})):void 0},[]).map(function(e){return(0,l.jsx)(eM,{token:e,dashboardId:s},e.metadata.address)})}),j.length>3&&(0,l.jsxs)("p",{className:"text-2xl font-semibold",children:["+",j.length-3]})]})}),a.data&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex justify-between gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("button",{onClick:function(){return h(!x)},className:"flex items-center gap-2",children:x?(0,l.jsxs)("p",{className:"flex items-center text-white underline font-display",children:[(0,l.jsx)(eA.Z,{className:"inline w-4 h-4 mr-1"}),(0,l.jsx)("code",{children:a.data}),(0,l.jsx)(et.Z,{textToCopy:a.data,btnBg:"transparent",btnText:"black",tooltipPosition:"rc",tooltipGap:2,darkMode:!0,children:" "})]}):(0,l.jsxs)("p",{className:"flex items-center underline font-display",children:[(0,l.jsx)(eE.Z,{className:"inline w-4 h-4 mr-1"}),"Show Withdrawal Address"]})}),!n&&(0,l.jsx)("button",{className:"underline text-harpie",onClick:function(){return g(!0)},children:"Change withdrawal address"})]}),1===j.length?(0,l.jsxs)("p",{children:[j.length," Token in vault"]}):(0,l.jsxs)("p",{children:[j.length," Tokens in vault"]})]}),(0,l.jsx)(eI,{open:i,setOpen:o})]})]})})]})}var eL=s(89531),eP=s(16896),eG=s(58364),eU=s(44320),ez=s(24635),eV=s(66481),eq=s(11163);function eB(e){var t=e.setActiveTabIndex,s=e.tabRef,n=e.setOpenSettings,i=(0,u.useState)(!1),o=i[0],c=i[1],m=(0,u.useContext)(d.G),p=m.dashboardId,g=m.isReadOnly,j=m.tokens,b=m.withdrawalAddress,v=m.transactions,w=m.chain,y=m.email,N=(0,u.useState)(!1),k=N[0],C=N[1],T=(0,u.useState)(!1),S=T[0],A=T[1],E=(0,u.useState)(!1),Z=E[0],R=E[1],O=(0,u.useState)(!1),D=O[0],F=O[1],M=(0,u.useState)(!1),L=M[0],P=M[1],U=(0,eq.useRouter)(),z=" animate-[pulse_0.5s_ease-in-out_infinite] border-harpie",V=j.data.some(function(e){return e.isApproved}),q=""!==b.data,B=!!y,Y=[V,q,L,B,].filter(function(e){return!0===e}).length;(0,u.useEffect)(function(){0==Y&&c(!0)},[p]);var Q=(0,u.useCallback)((0,a.Z)(function(){return(0,r.__generator)(this,function(e){if(!w)return[2];try{P(v.data.some(function(e){var t,s;return(null==e?void 0:e.status)===W.TransactionStatus.SUCCESS&&((null==e?void 0:e.type)===W.TransactionType.FRONTRUN_ATTEMPT||(null==e?void 0:e.type)===W.TransactionType.VAULT_WITHDRAWAL)&&(null==e?void 0:null===(t=e.payload)||void 0===t?void 0:null===(s=t.tokenMetadata)||void 0===s?void 0:s.symbol)==="FAU"})||j.data.some(function(e){return(null==e?void 0:e.vaultBalance)!=="0"}))}catch(t){console.log(t)}return[2]})}),[w.fauAddress,w.flashbotAddress,p,v]);return(0,u.useEffect)(function(){Q()},[Q]),(0,u.useEffect)(function(){if(V){var e=document.getElementById("tabContent").className;document.getElementById("tabContent").className=e.slice(0,e.indexOf(z))}},[V]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eO,{onConfirm:function(){R(!1),C(!0)},open:Z,setOpen:R}),(0,l.jsx)(eI,{open:S,setOpen:A}),(0,l.jsx)(eF,{open:k,setOpen:C}),U.asPath.includes("firstTime=true")&&(0,l.jsx)(G(),{numberOfPieces:500,tweenDuration:8e3,recycle:!1,colors:["#fff119","#f2520a","#ff843c","#ff661e","#de3e00","#ca2a00","#000000"]}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 p-2 bg-white border-[1px] shadow-sm shadow-[#ca2a00]/10 rounded-lg border-harpie",children:[(0,l.jsxs)("div",{className:"flex justify-between p-4 cursor-pointer group",onClick:function(){c(!o)},children:[(0,l.jsxs)("h3",{className:"text-xl font-display",children:["Complete Setup (","".concat(Y,"/4"),")"]}),(0,l.jsx)("button",{className:"group-hover:text-gray-600",onClick:function(){c(!o)},children:o?(0,l.jsx)(x.G,{icon:h.l1h,className:"w-6 h-6 text-gray-400 group-hover:text-gray-600"}):(0,l.jsx)(x.G,{icon:h.eW2,className:"w-6 h-6 text-gray-400 group-hover:text-gray-600"})})]}),g&&(0,l.jsxs)("p",{className:"px-4 pb-2 -mt-4",children:["You must connect with wallet ",(0,l.jsx)("code",{children:(0,I.W)(p)})," to complete setup."," "]}),(0,l.jsxs)("div",{className:o?"-mt-6 flex flex-row gap-2 mx-2"+(g&&"blur-sm"):"hidden",style:{flexFlow:"row wrap"},children:[(0,l.jsx)("div",{className:"flex flex-col justify-between flex-1 p-6 bg-white rounded-xl",children:V?(0,l.jsxs)("div",{className:"flex flex-col justify-center h-full",children:[(0,l.jsx)(f.N9r,{className:"w-8 h-8 mx-auto text-green-500 shrink-0"}),(0,l.jsx)("h3",{className:"mt-2 mb-2 text-lg font-bold text-center",children:"Protect a token"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eL.Z,{className:"w-8 h-8 mx-auto "}),(0,l.jsx)("h3",{className:"mt-2 mb-2 text-lg font-bold text-center",children:"Protect a token"}),(0,l.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,l.jsx)("p",{className:"mb-4 font-sans text-sm text-center",children:"Allow Harpie to intervene once our systems detect unauthorized activity"})}),!g&&(0,l.jsx)(_(),{href:"#tabContent",passHref:!0,scroll:!1,children:(0,l.jsx)("a",{children:(0,l.jsx)(H.Z,{className:"inline w-full gap-1 px-4 py-2 text-center text-white bg-harpie hover:bg-harpie-200",disabled:g,onClick:g?function(){}:function(e){e.preventDefault(),s.current.scrollIntoView(),t(0);var a,n=null===(a=document.getElementById("tabContent"))||void 0===a?void 0:a.className;n.indexOf(z)&&(document.getElementById("tabContent").className=n.concat(z),setTimeout(function(){document.getElementById("tabContent").className=n.replace(z,"")},1e3))},children:"Protect"})})})]})}),(0,l.jsx)("div",{className:"flex flex-col justify-between flex-1 p-6 bg-white rounded-xl",children:q?(0,l.jsxs)("div",{className:"flex flex-col justify-around h-full",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(f.N9r,{className:"w-8 h-8 mx-auto text-green-500 shrink-0"}),(0,l.jsx)("h3",{className:"text-lg font-bold text-center",children:"Set up withdrawal address"})]}),!g&&(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,l.jsx)("button",{onClick:function(){return F(!D)},className:"flex items-center gap-2",children:D?(0,l.jsx)("p",{className:"content-center inline p-1 mx-auto text-sm text-center",children:(0,l.jsxs)(et.Z,{textToCopy:b.data,btnBg:"transparent",btnText:"black",tooltipPosition:"rc",tooltipGap:2,className:"",children:[(0,l.jsx)(eA.Z,{className:"inline w-4 h-4 mr-1"}),(0,l.jsx)("code",{children:(0,I.W)(b.data)})]})}):(0,l.jsxs)("p",{className:"content-center inline p-1 mx-auto text-sm text-center",children:[(0,l.jsx)(eE.Z,{className:"inline w-4 h-4 mr-1"}),"Show Withdrawal Address"]})}),(0,l.jsxs)("button",{onClick:function(){return A(!0)},className:"content-center inline p-1 text-sm text-center",children:["Change",(0,l.jsx)("span",{children:(0,l.jsx)(eP.Z,{className:"inline w-4 h-4 ml-2"})})]})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eG.Z,{className:"w-8 h-8 mx-auto "}),(0,l.jsx)("h3",{className:"mt-2 mb-2 text-lg font-bold text-center",children:"Setup withdrawal address"}),(0,l.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,l.jsx)("p",{className:"mb-4 font-sans text-sm text-center",children:"Designate where Harpie should send recovered tokens to"})}),!g&&(0,l.jsx)(H.Z,{className:"inline w-full gap-1 px-4 py-2 text-center text-white bg-harpie hover:bg-harpie-400",disabled:g,onClick:function(){return R(!0)},children:"Setup"})]})}),(0,l.jsx)("div",{className:"flex flex-col justify-between flex-1 p-6 bg-white rounded-xl",children:L?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.N9r,{className:"w-8 h-8 mx-auto text-green-500 shrink-0"}),(0,l.jsx)("h3",{className:"mt-2 mb-2 text-lg font-bold text-center",children:"Optional: Try a live test"}),(0,l.jsx)("p",{className:"content-center inline p-1 mt-auto mb-4 text-sm text-center",children:"Tokens successfully recovered"}),!g&&(0,l.jsx)(_(),{href:"/app/dashboard/".concat(p,"/livetest/?chainId=").concat(w.id),passHref:!0,children:(0,l.jsx)("a",{children:(0,l.jsx)(H.Z,{disabled:g,className:"inline w-full gap-1 px-4 py-2 text-center text-white bg-harpie hover:bg-harpie-400",children:"Try test again"})})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eU.Z,{className:"w-8 h-8 mx-auto "}),(0,l.jsx)("h3",{className:"mt-2 mb-2 text-lg font-bold text-center",children:"Optional: Try a live test"}),(0,l.jsx)("div",{className:"items-center gap-2 ",children:(0,l.jsx)("p",{className:"mb-4 font-sans text-sm text-center",children:"Simulate a token attack. This will cost gas"})}),!g&&(0,l.jsx)(_(),{href:"/app/dashboard/".concat(p,"/livetest/?chainId=").concat(w.id),passHref:!0,children:(0,l.jsx)("a",{children:(0,l.jsx)(H.Z,{disabled:g,className:"inline w-full gap-1 px-4 py-2 text-center text-white bg-harpie hover:bg-harpie-200",children:"Go to test"})})})]})}),(0,l.jsx)("div",{className:"flex flex-col justify-between flex-1 p-6 bg-white rounded-xl",children:B?(0,l.jsxs)("div",{className:"flex flex-col justify-around h-full",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(f.N9r,{className:"w-8 h-8 mx-auto text-green-500 shrink-0"}),(0,l.jsx)("h3",{className:"mt-2 mb-2 text-lg font-bold text-center",children:"Setup Email Notifications"})]}),!g&&(0,l.jsxs)("button",{onClick:function(){return n(!0)},className:"content-center inline p-1 mt-2 text-sm text-center",children:["Change",(0,l.jsx)("span",{children:(0,l.jsx)(ez.Z,{className:"inline w-4 h-4 ml-2"})})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eV.Z,{className:"w-8 h-8 mx-auto "}),(0,l.jsx)("h3",{className:"mt-2 mb-2 text-lg font-bold text-center",children:"Setup Email Notifications"}),(0,l.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,l.jsx)("p",{className:"mb-4 font-sans text-sm text-center",children:"Allow Harpie to notify you when you protect or withdraw a token"})}),!g&&(0,l.jsx)(H.Z,{className:"inline w-full gap-1 px-4 py-2 text-center text-white bg-harpie hover:bg-harpie-400",disabled:g,onClick:function(){return n(!0)},children:"Setup"})]})})]})]})]})}var eY=s(93602),eQ=s(26179),eJ=s(52638),eK=s(66897),e$=s(38264),eX=s(5506);function e0(e){var t,s=e.email,n=e.updateEmail,i=e.settings,o=e.updateSettings,c=e.open,d=e.setOpen,x=(0,u.useState)(0),h=x[0],m=x[1],p=(0,u.useState)(""),f=p[0],g=p[1],j=(0,u.useState)({isTokenProtectionEmailsEnabled:!!(null==i?void 0:i.isTokenProtectionEmailsEnabled),isSetTrustedNetworkEmailsEnabled:!!(null==i?void 0:i.isSetTrustedNetworkEmailsEnabled),isTokenWithdrawalEmailsEnabled:!!(null==i?void 0:i.isTokenWithdrawalEmailsEnabled),isSetWithdrawalAddressEmailsEnabled:!!(null==i?void 0:i.isSetWithdrawalAddressEmailsEnabled),isFrontrunnerSuccessEmailsEnabled:!!(null==i?void 0:i.isFrontrunnerSuccessEmailsEnabled)}),b=j[0],v=j[1];return(0,u.useEffect)(function(){g("")},[c]),(0,l.jsx)(L.Z,{open:c,children:(0,l.jsxs)("div",{className:"relative flex w-full max-w-2xl overflow-hidden text-left text-gray-900 align-bottom transition-all bg-white rounded-lg shadow-xl sm:align-middle h-96",children:[(0,l.jsx)("button",{className:"absolute right-2 top-2 hover:text-harpie-500",onClick:function(){return d(!1)},children:(0,l.jsx)(eX.Z,{className:"w-8 h-8"})}),(0,l.jsxs)("div",{className:"flex gap-8",children:[(0,l.jsxs)("div",{className:"flex flex-col bg-[#FFF9F7] w-48",children:[(0,l.jsx)("h2",{className:"p-4 text-xl",children:"Settings"}),[{label:"Account"},{label:"Notifications"}].map(function(e,t){return(0,l.jsx)("button",{className:"px-4 py-2 text-md transition-colors duration-300 font-display text-left ".concat(t===h?"bg-harpie text-white":"hover:bg-orange-200"),onClick:function(){return m(t)},children:e.label},t)})]}),0===h&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"py-4 text-xl",children:"Personal"}),(0,l.jsx)("div",{className:"text-sm",children:(0,l.jsxs)("p",{className:"pr-2",children:["Current Email Address: ",(0,l.jsx)("span",{className:"font-bold",children:s})]})}),(0,l.jsxs)("form",{className:"text-sm",onSubmit:(t=(0,a.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return e.preventDefault(),[4,n(f)];case 1:return t.sent(),g(""),[2]}})}),function(e){return t.apply(this,arguments)}),children:[(0,l.jsx)("label",{className:"pr-2",htmlFor:"new_email",children:"New Email Address:"}),(0,l.jsx)("input",{type:"text",name:"new_email",className:"mt-4 text-sm border-gray-400 rounded-sm focus:ring-0 focus:border-orange-600",value:f,onChange:function(e){return g(e.currentTarget.value)}}),(0,l.jsx)(H.Z,{onClick:function(){return n(f)},type:"button",className:"absolute rounded-sm bottom-4 right-4",children:"Update Email"})]})]}),1===h&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"py-4 text-xl",children:"Notifications"}),(0,l.jsx)("p",{className:"pb-4",children:"Subscribe to get email notifications"}),(0,l.jsxs)("div",{className:"px-2 py-1",children:[(0,l.jsx)("input",{type:"checkbox",name:"protect_token",id:"protect_token",className:"mb-1 text-orange-600 rounded-sm focus:ring-0 focus:ring-offset-0",checked:b.isTokenProtectionEmailsEnabled,onChange:function(e){return v((0,ev.Z)((0,eb.Z)({},b),{isTokenProtectionEmailsEnabled:e.currentTarget.checked}))}}),(0,l.jsx)("label",{htmlFor:"protect_token",className:"pl-2",children:"Token Protection"})]}),(0,l.jsxs)("div",{className:"px-2 py-1",children:[(0,l.jsx)("input",{type:"checkbox",name:"change_trusted_network",id:"change_trusted_network",className:"mb-1 text-orange-600 rounded-sm focus:ring-0 focus:ring-offset-0",checked:b.isSetTrustedNetworkEmailsEnabled,onChange:function(e){return v((0,ev.Z)((0,eb.Z)({},b),{isSetTrustedNetworkEmailsEnabled:e.currentTarget.checked}))}}),(0,l.jsx)("label",{htmlFor:"change_trusted_network",className:"pl-2",children:"Trusted Network Change"})]}),(0,l.jsxs)("div",{className:"px-2 py-1",children:[(0,l.jsx)("input",{type:"checkbox",name:"withdraw_token",id:"withdraw_token",className:"mb-1 text-orange-600 rounded-sm focus:ring-0 focus:ring-offset-0",checked:b.isTokenWithdrawalEmailsEnabled,onChange:function(e){return v((0,ev.Z)((0,eb.Z)({},b),{isTokenWithdrawalEmailsEnabled:e.currentTarget.checked}))}}),(0,l.jsx)("label",{htmlFor:"withdraw_token",className:"pl-2",children:"Token Withdrawal"})]}),(0,l.jsxs)("div",{className:"px-2 py-1",children:[(0,l.jsx)("input",{type:"checkbox",name:"change_withdrawal",id:"change_withdrawal",className:"mb-1 text-orange-600 rounded-sm focus:ring-0 focus:ring-offset-0",checked:b.isSetWithdrawalAddressEmailsEnabled,onChange:function(e){return v((0,ev.Z)((0,eb.Z)({},b),{isSetWithdrawalAddressEmailsEnabled:e.currentTarget.checked}))}}),(0,l.jsx)("label",{htmlFor:"change_withdrawal",className:"pl-2",children:"Withdrawal Address Change"})]}),(0,l.jsxs)("div",{className:"px-2 py-1",children:[(0,l.jsx)("input",{type:"checkbox",name:"frontrunner_success",id:"frontrunner_success",className:"mb-1 text-orange-600 rounded-sm focus:ring-0 focus:ring-offset-0",checked:b.isFrontrunnerSuccessEmailsEnabled,onChange:function(e){return v((0,ev.Z)((0,eb.Z)({},b),{isFrontrunnerSuccessEmailsEnabled:e.currentTarget.checked}))}}),(0,l.jsx)("label",{htmlFor:"frontrunner_success",className:"pl-2",children:"Unauthorized Activity Detected"})]}),(0,l.jsx)(H.Z,{onClick:(0,a.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,o((0,eb.Z)({},b))];case 1:return e.sent(),d(!1),[2]}})}),type:"button",className:"absolute rounded-sm bottom-4 right-4",children:"Update Notifications"})]})]})]})})}var e1=s(37887),e2=s(63326),e4=s(77505),e6=s(82307);function e3(e){var t=e.question,s=e.addResponse;return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-8",children:[(0,l.jsx)("h5",{className:"text-xl text-center font-display",children:t}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-12",children:[(0,l.jsx)("button",{type:"button",onClick:function(){return s(t,"Thumbs Down")},children:(0,l.jsx)(e6.Z,{className:"w-10 h-10 hover:text-harpie"})}),(0,l.jsx)("button",{type:"button",onClick:function(){return s(t,"Thumbs Up")},children:(0,l.jsx)(e2.Z,{className:"w-10 h-10 hover:text-harpie"})})]})]})}function e8(e){var t,s=e.question,n=e.addResponse,i=e.onError,o=(0,u.useState)(""),c=o[0],d=o[1];return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[(0,l.jsx)("h5",{className:"text-xl text-center font-display",children:s}),(0,l.jsxs)("form",{onSubmit:(t=(0,a.Z)(function(e){var t;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e.preventDefault(),[4,eu.gw.isValid(c)];case 1:return t.sent(),n(s,c),[3,3];case 2:return i(t.sent()),[3,3];case 3:return[2]}})}),function(e){return t.apply(this,arguments)}),className:"flex flex-col justify-center w-[90%] gap-4",children:[(0,l.jsx)("input",{className:"p-2 text-sm tracking-wide border-2 outline-none border-harpie",value:c,onChange:function(e){return d(e.currentTarget.value)},maxLength:200}),(0,l.jsx)(H.Z,{type:"submit",children:"Submit"})]})]},"")}function e5(e){var t=e.question,s=e.options,a=e.addResponse;return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-8",children:[(0,l.jsx)("h5",{className:"text-xl text-center font-display",children:t}),(0,l.jsx)("div",{className:"flex items-center justify-center gap-4 flex-warp",children:s.map(function(e,s){return(0,l.jsx)("button",{type:"button",onClick:function(){return a(t,e)},children:(0,l.jsx)("p",{className:"hover:text-harpie",children:e})},s+e)})})]},"")}function e9(){var e,t=(0,u.useContext)(d.G),s=t.dashboardId,a=t.chain,r=t.pushError,i=(0,e4.Z)(),o=i.slide,c=i.nextSlide,x=i.slideRef,h=(0,e1.a)(ei.N9,{variables:{dashboardId:s,chainId:a.id}}),m=h.data,p=h.loading,f=1>=parseInt(window.localStorage.getItem("".concat(s,"_numVisits"))),g=p||(null==m?void 0:null===(e=m.userFeedback)||void 0===e?void 0:e.createdAt)!=null,j=(0,u.useState)(!1),b=j[0],v=j[1],w=(0,u.useState)([]),y=w[0],N=w[1],k=(0,n.Z)((0,V.D)(z.vP),1)[0],C=[(0,l.jsx)(e3,{question:"How are you liking Harpie so far?",addResponse:function(e,t){N(y.concat({question:e,response:t})),c()}},""),(0,l.jsx)(e5,{question:"How would you feel if you could no longer use Harpie?",options:["Not disappointed at all","Somewhat disappointed","Very disappointed"],addResponse:function(e,t){N(y.concat({question:e,response:t})),c()}},""),(0,l.jsx)(e8,{question:"How can we improve Harpie for you?",addResponse:function(e,t){var n=y.concat({question:e,response:t});N(n),k({variables:{dashboardId:s,chainId:a.id,responses:JSON.stringify(n)}}),c()},onError:r},""),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[(0,l.jsx)("h5",{className:"text-xl text-center font-display",children:"Thank you for your feedback!"}),(0,l.jsx)(e2.Z,{className:"w-24 h-24 text-harpie"})]},""),];return f||g||b?null:(0,l.jsxs)("div",{className:"fixed px-8 py-6 bg-white border-[1px] border-gray-300 rounded-md shadow-lg h-52 w-120 right-6 bottom-6",ref:x,children:[C[o],(0,l.jsx)("button",{type:"button",className:"absolute top-2 right-2",onClick:function(){return v(!0)},children:(0,l.jsx)(ey.Z,{className:"w-6 h-6 text-black hover:text-harpie"})})]})}var e7=s(51438),te=s(88029),tt=s(41318);function ts(e){var t=e.onExpand,s=e.dashboardId,a=e.chainId,n=e.setAssetsTab,r=(0,u.useState)(!1),i=r[0],o=r[1];return(0,l.jsxs)("div",{className:i?"absolute inset-0 z-10 overflow-hidden mt-[5.6rem]":"",children:[i?(0,l.jsx)("style",{children:"\n        html, body {\n          overflow: hidden;\n        }\n      "}):"",i?(0,l.jsx)(L.Z,{open:i,children:(0,l.jsxs)("div",{className:"bg-white relative w-[94%] h-[82vh] overflow-hidden p-12 pr-16 rounded-xl inset-0 z-20 transition-all mt-[5.3rem]",children:[(0,l.jsx)("button",{className:"absolute top-4 right-4 cursor-pointer]",onClick:function(){o(!1),t(!i)},children:i?(0,l.jsx)(x.G,{icon:h.Qj4,className:"w-6 h-6 text-gray-400 hover:text-gray-600"}):(0,l.jsx)(x.G,{icon:h.TL5,className:"w-6 h-6 text-gray-400 hover:text-gray-600"})}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{children:"Hey, we're revamping the transactions page. You should see your transactions history in the coming days!"}),(0,l.jsx)("div",{className:"relative w-40 h-40 mx-auto my-8",children:(0,l.jsx)(v(),{src:"/images/empty-search.png",alt:"No transactions",layout:"fill"})}),(0,l.jsxs)("p",{children:["Get started by protecting a ",(0,l.jsx)("span",{className:"cursor-pointer text-harpie",onClick:n,children:"token"}),", or see how we work with a ",(0,l.jsx)(_(),{href:"/app/dashboard/".concat(s,"/livetest/?chainId=").concat(a),children:(0,l.jsx)("a",{className:"text-harpie",children:"live test"})}),"."]})]})]})}):(0,l.jsxs)("div",{className:"relative flex flex-col w-full gap-4 p-12 bg-white",children:[(0,l.jsx)("button",{className:"absolute cursor-pointer top-4 right-4",onClick:function(){o(!i),t(!i)},children:i?(0,l.jsx)(x.G,{icon:h.Qj4,className:"w-6 h-6 text-gray-400 hover:text-gray-600"}):(0,l.jsx)(x.G,{icon:h.TL5,className:"w-6 h-6 text-gray-400 hover:text-gray-600"})}),(0,l.jsx)("div",{className:"flex items-end gap-4 pb-4"}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{children:"Hey, we're revamping the transactions page. You should see your transactions history in the coming days!"}),(0,l.jsx)("div",{className:"relative w-40 h-40 mx-auto my-8",children:(0,l.jsx)(v(),{src:"/images/empty-search.png",alt:"No transactions",layout:"fill"})}),(0,l.jsxs)("p",{children:["Get started by protecting a ",(0,l.jsx)("span",{className:"cursor-pointer text-harpie",onClick:n,children:"token"}),", or see how we work with a ",(0,l.jsx)(_(),{href:"/app/dashboard/".concat(s,"/livetest/?chainId=").concat(a),children:(0,l.jsx)("a",{className:"text-harpie",children:"live test"})}),"."]})]})]})]})}var ta=function(e){(0,te.Z)(s,e);var t=(0,tt.Z)(s);function s(e){var a;return(0,e7.Z)(this,s),(a=t.call(this,e)).state={hasError:!1},a}var a=s.prototype;return a.componentDidCatch=function(e,t){console.log({error:e,errorInfo:t})},a.render=function(){return this.state.hasError?(0,l.jsx)(ts,{onExpand:this.state.onExpand,dashboardId:this.state.dashboardId,chainId:this.state.chainId,setAssetsTab:this.state.setAssetsTab}):this.props.children},s.getDerivedStateFromError=function(e){return{hasError:!0}},s}(u.Component);function tn(e){var t=e.openSettings,s=e.setOpenSettings,a=(0,u.useState)(!1),n=a[0],r=a[1],i=(0,u.useState)(!1),o=i[0],c=i[1],x=(0,A.Z)().setChain,h=(0,u.useContext)(d.G),m=h.dashboardId,f=h.email,g=h.updateEmail,j=h.settings,b=h.updateSettings,v=h.tokens,w=h.createdAt,y=h.isChainConnected,N=h.isReadOnly,k=h.errors,C=h.popError,T=h.chain,S=h.isLoading,E=h.transactions,R=v.data.some(function(e){return e.isApproved}),O=(0,u.useState)(0),D=O[0],F=O[1],W=(0,u.useState)(null),M=W[0],H=W[1],L=!v.data.some(p.MX),P=(0,u.useMemo)(function(){return E.data.filter(function(e){var t;return(null==e?void 0:e.type)===Z.i.FRONTRUN_ATTEMPT&&(null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.wasSeen)===!1})},[E.data]),G=(0,u.useState)(!0),U=G[0],z=G[1];(0,u.useEffect)(function(){if(void 0!==w){var e,t=parseInt(null!==(e=window.localStorage.getItem("".concat(m,"_numVisits")))&&void 0!==e?e:"0");window.localStorage.setItem("".concat(m,"_numVisits"),(t+1).toString())}},[w,m]);var V=[{label:"Protected Assets",content:(0,l.jsx)(X,{onExpand:function(){return r(!n)},dashboardId:m,chainId:T.id})},{label:"My Trusted Network",content:(0,l.jsx)(ex,{})},{label:"Transactions",content:(0,l.jsx)(ta,{onExpand:function(){return r(!n)},setAssetsTab:function(){return F(0)},dashboardId:m,chainId:T.id,children:(0,l.jsx)(eS,{onExpand:function(){return r(!n)},setAssetsTab:function(){return F(0)},dashboardId:m,chainId:T.id})})},];return S?(0,l.jsx)("main",{className:"pt-32 mx-auto w-[60%] my-8 flex items-center justify-center flex-col gap-8",children:(0,l.jsx)("h1",{className:"text-xl text-center font-display",children:"Loading dashboard..."})}):T?void 0===w?(0,l.jsxs)("main",{className:"pt-32 mx-auto w-[60%] my-8 flex items-center justify-center flex-col gap-8",children:[(0,l.jsxs)("h1",{className:"text-xl text-center font-display",children:["The address:",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"font-bold text-harpie",children:m}),(0,l.jsx)("br",{}),"on ",(0,l.jsx)("span",{className:"font-bold text-harpie",children:T.name}),(0,l.jsx)("br",{}),"is not registered on Harpie."]}),(0,l.jsx)(_(),{href:"/app/onboarding/",children:(0,l.jsx)("a",{className:"px-6 py-4 text-white rounded-sm bg-harpie font-display",children:"Get Started ->"})})]}):(0,l.jsxs)("main",{className:"font-sans bg-none",children:[(0,l.jsx)(ek,{transactions:P,updateTransaction:E.update,chain:T,open:U,setOpen:z}),(0,l.jsxs)("div",{className:"mx-auto px-6 pt-[5.4rem] w-[90%] pb-12 flex flex-col md:flex-row gap-16 2xl:gap-40 xl:gap-32 font-display justify-center",children:[(0,l.jsx)(e0,{email:f,updateEmail:g,settings:j,updateSettings:b,open:t,setOpen:s}),(0,l.jsx)("div",{className:"flex justify-center w-full mt-2 md:w-40 md:justify-right md:ml-8",children:(0,l.jsxs)("div",{className:"items-center justify-center md:fixed",children:[(0,l.jsx)("div",{className:"flex items-center justify-center w-full py-2",children:(0,l.jsx)(eJ.Hashicon,{value:m,size:84})}),(0,l.jsxs)("div",{className:"flex text-black",children:[(0,l.jsx)(et.Z,{textToCopy:m,btnBg:"transparent",btnText:"black",tooltipPosition:"rc",tooltipGap:2,children:(0,l.jsx)("p",{className:"py-2 text-xl font-display",children:(0,I.W)(m)})}),!N&&(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)(ez.Z,{className:"w-5 h-5 ml-1 cursor-pointer",onClick:function(){return s(!0)}})})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2 mt-1",children:[R?(0,l.jsx)(B.Z,{tooltip:(0,l.jsx)("p",{className:"px-2 py-1 text-sm text-white w-72 bg-black/80",children:"Harpie is constantly scanning your wallet for unauthorized transactions on protected assets."}),gap:2,children:(0,l.jsx)("div",{className:"flex items-center gap-1 px-2 py-1 text-xs text-white bg-green-500 rounded-full select-none animate-protectHighlight font-display",children:(0,l.jsx)("p",{children:"Asset Protection - Active"})})}):(0,l.jsx)(B.Z,{tooltip:(0,l.jsx)("p",{className:"px-2 py-1 text-sm text-white w-72 bg-black/80",children:"Start protecting your tokens and NFTs to defend them against hacks, scams, and accidental transfers."}),gap:2,children:(0,l.jsx)("div",{className:"flex items-center gap-1 px-2.5 py-1 text-xs text-white bg-gray-600 rounded-full select-none font-display",children:(0,l.jsx)("p",{children:"Asset Protection - Inactive"})})}),L?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(B.Z,{tooltip:(0,l.jsx)("p",{className:"px-2 py-1 text-sm text-white w-72 bg-black/80",children:"Harpie has recovered assets from an unauthorized transaction and placed them in the Vault. Promptly withdraw them to a recipient wallet address."}),gap:2,children:(0,l.jsx)("div",{className:"flex items-center gap-1 px-2.5 py-1 text-xs text-white bg-red-700 rounded-full select-none font-display",children:(0,l.jsx)("p",{children:"Recovered Assets in Vault"})})}),f?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(B.Z,{tooltip:(0,l.jsx)("p",{className:"px-2 py-1 text-sm text-white w-72 bg-black/80",children:"Receive notifications when Harpie blocks transactions or when your trusted network is updated."}),gap:2,children:(0,l.jsxs)("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-white rounded-full select-none bg-harpie font-display",onClick:function(){return s(!0)},children:[(0,l.jsx)("p",{children:"Setup Notifications"}),(0,l.jsx)(eV.Z,{className:"w-4 h-4 mx-auto ml-0.5"})]})}),N&&(0,l.jsx)(B.Z,{tooltip:(0,l.jsxs)("p",{className:"px-2 py-1 text-sm text-white bg-black/80 w-52",children:["Switch active account to"," ",(0,l.jsx)("span",{className:"text-harpie",children:(0,I.W)(m)})," on"," ",(0,l.jsx)("span",{className:"text-harpie",children:T.name})," to edit"]}),gap:2,children:(0,l.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 text-xs text-white bg-red-500 rounded-full font-display",children:[(0,l.jsx)("p",{className:"select-none",children:"READ ONLY"}),(0,l.jsx)(e$.Z,{className:"w-4 h-4"})]})}),y?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(B.Z,{tooltip:(0,l.jsxs)("p",{className:"px-2 py-1 text-sm text-white bg-black/80 w-52",children:["Click to switch to ",(0,l.jsx)("span",{className:"text-harpie",children:T.name})]}),gap:2,children:(0,l.jsxs)("button",{onClick:function(){return x(T.id)},className:"flex items-center gap-1 px-2 py-1 text-xs text-white bg-red-500 rounded-full font-display",children:[(0,l.jsx)("p",{className:"select-none",children:T.name}),(0,l.jsx)(e$.Z,{className:"w-4 h-4"})]})})]})]})}),(0,l.jsx)("div",{className:"flex flex-col w-full h-[80vh] gap-5",children:L?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eB,{setActiveTabIndex:F,tabRef:M,onExpand:function(){return c(!o)},setOpenSettings:s}),(0,l.jsx)(eY.Z,{tabs:V,activeTab:D,setActiveTab:F,setTabRef:H})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eH,{}),(0,l.jsx)(eB,{setActiveTabIndex:F,tabRef:M,onExpand:function(){return c(!o)},setOpenSettings:s}),(0,l.jsx)(eY.Z,{tabs:V,activeTab:D,setActiveTab:F,setTabRef:H})]})})]}),(0,l.jsx)(eQ.Z,{errors:k,popError:C}),(0,l.jsx)(e9,{})]}):(0,l.jsxs)("main",{className:"pt-32 mx-auto w-[60%] my-8 flex items-center justify-center flex-col gap-8",children:[(0,l.jsxs)("h1",{className:"text-xl text-center font-display",children:[(0,l.jsx)("p",{children:"We've detected that you are connected to an unsupported chain. For now, we only support Ethereum Mainnet."}),(0,l.jsx)("p",{children:"Please switch the connected network to proceed."})]}),(0,l.jsx)(eK.Z,{selectedChain:T,setChain:x})]})}var tr=!0;function tl(e){var t,s,i=(0,u.useState)(""),x=i[0];i[1];var h=(0,u.useState)(!1),m=(h[0],h[1]),p=(0,u.useState)(""),f=(p[0],p[1]),g=(0,u.useState)(!1),j=g[0],b=g[1],v=(0,n.Z)((0,ee.t)(ei.JY),2),w=v[0],y=v[1].data;return null==y||y.isValidPassword,(0,a.Z)(function(e){var t,s;return(0,r.__generator)(this,function(t){switch(t.label){case 0:e.preventDefault(),m(!0),t.label=1;case 1:var a;return t.trys.push([1,3,,4]),[4,w({variables:{password:x}})];case 2:if(!t.sent().data.isValidPassword)throw Error("Incorrect Password!");return[3,4];case 3:return s=t.sent(),console.log(s.meesage),f(s.message),[3,4];case 4:return m(!1),[2]}})}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o(),{children:[(0,l.jsx)("title",{children:" My Dashboard | Harpie"}),(0,l.jsx)("meta",{name:"description",content:"Protect your assets, set up your trusted network, and more."}),(0,l.jsx)("meta",{name:"robots",content:"index, follow"})]}),(0,l.jsx)(_(),{href:"#content",children:(0,l.jsx)("a",{className:"sr-only focus:not-sr-only",children:"Skip to content"})}),(0,l.jsx)(c.Z,{setOpenSettings:b}),(0,l.jsxs)(d._,{dashboardId:e.dashboardId,chainId:e.chainId,children:["Temporary password check for closed beta",(0,l.jsx)(tn,{setOpenSettings:b,openSettings:j})]})]})}}},function(e){e.O(0,[5445,423,2013,4976,9539,1664,2614,5675,3591,8198,2429,5285,6098,8682,3154,3722,8608,9774,2888,179],function(){return e(e.s=42693)}),_N_E=e.O()}]);